(this.webpackJsonpsubject_fast=this.webpackJsonpsubject_fast||[]).push([[0],{104:function(e,t,a){},122:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){e.exports=a.p+"static/media/drop-down-black.fadc6a17.svg"},126:function(e,t,a){e.exports=a.p+"static/media/drop-down.df790f72.svg"},127:function(e,t,a){e.exports=a.p+"static/media/mobile-menu.845a9ae0.svg"},128:function(e,t,a){e.exports=a.p+"static/media/up.23618932.svg"},129:function(e,t,a){e.exports=a.p+"static/media/down.1155cc9c.svg"},187:function(e,t,a){e.exports=a.p+"static/media/settings.66f059fb.svg"},188:function(e,t,a){e.exports=a.p+"static/media/add.724f5c69.svg"},189:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(8),r=a(21),i=a.n(r),o=(a(104),a(33)),c=a(90),u=a(5),m="SHOW_SPINNING",p={spinning:"",msg_user_error:"",msg_registration:{},msg_create_publisher:"",msg_publisher_error:"",getUser_list:"",msg_get_users:"",msg_user_delete:"",get_user:"",msg_user:"",getAll_users:"",get_album_list:"",msg_album_list_error:"",msg_create_album:"",get_registered_albums:"",msg_registered_albums:"",msg_assign_albums:"",msg_error_assign_albums:"",get_album_byId:"",msg_album_byId:"",get_track_list:"",msg_error_tracks:"",msg_track_update:"",msg_paid:""},d=Object(o.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_SEARCH_USERS":return Object(u.a)(Object(u.a)({},e),{},{get_search_users:t.payload});case"UPDATE_PAID":return Object(u.a)(Object(u.a)({},e),{},{msg_paid:t.payload});case"TRACK_UPDATE_PAYMENT":return Object(u.a)(Object(u.a)({},e),{},{msg_track_update:t.payload});case"GET_TRACK_LIST":return Object(u.a)(Object(u.a)({},e),{},{get_track_list:t.payload});case"ERROR_TRACK_LIST":return Object(u.a)(Object(u.a)({},e),{},{msg_error_tracks:t.payload});case"GET_ALBUM_BYID":return Object(u.a)(Object(u.a)({},e),{},{get_album_byId:t.payload});case"ERROR_ALBUM_BYID":return Object(u.a)(Object(u.a)({},e),{},{msg_album_byId:t.payload});case"ASSIGN_ALBUMS":return Object(u.a)(Object(u.a)({},e),{},{msg_assign_albums:t.payload});case"ERROR_ASSIGN_ALBUMS":return Object(u.a)(Object(u.a)({},e),{},{msg_error_assign_albums:t.payload});case"GET_ALL_USERS":return Object(u.a)(Object(u.a)({},e),{},{getAll_users:t.payload});case"GET_REGISTERED_ALBUMS":return Object(u.a)(Object(u.a)({},e),{},{get_registered_albums:t.payload});case"ERROR_REGISTERED_ALBUM_LIST":return Object(u.a)(Object(u.a)({},e),{},{msg_registered_albums:t.payload});case"DELETE_ALBUM":return Object(u.a)(Object(u.a)({},e),{},{msg_album_delete:t.payload});case"ADD_ALBUM":return Object(u.a)(Object(u.a)({},e),{},{msg_create_album:t.payload});case"GET_EXISTING_ALBUM":return Object(u.a)(Object(u.a)({},e),{},{get_album_list:t.payload});case"ERROR_ALBUM_LIST":return Object(u.a)(Object(u.a)({},e),{},{msg_album_list_error:t.payload});case"GET_USER":return Object(u.a)(Object(u.a)({},e),{},{get_user:t.payload});case"ERROR_USER":return Object(u.a)(Object(u.a)({},e),{},{msg_user:t.payload});case"DELETE_USER":return Object(u.a)(Object(u.a)({},e),{},{msg_user_delete:t.payload});case"GET_USERS":return Object(u.a)(Object(u.a)({},e),{},{getUser_list:t.payload});case"GET_USER_ERROR":return Object(u.a)(Object(u.a)({},e),{},{msg_get_users:t.payload});case"ERROR_CREATE_PUBLISHER":return Object(u.a)(Object(u.a)({},e),{},{msg_publisher_error:t.payload});case"CREATE_PUBLISHER":return Object(u.a)(Object(u.a)({},e),{},{msg_create_publisher:t.payload});case m:return Object(u.a)(Object(u.a)({},e),{},{spinning:t.payload});case"USER_REGISTRATION":return Object(u.a)(Object(u.a)({},e),{},{msg_registration:t.payload});case"USER_ERROR":return Object(u.a)(Object(u.a)({},e),{},{msg_user_error:t.payload});default:return e}}}),h=[c.a],g=Object(o.e)(d,{},Object(o.d)(o.a.apply(void 0,h))),_=a(6),E=a(7),b=a(10),f=a(9),y=a(17),v=a(16),k=a(13),N=a(12),C=a.n(N),S="https://track-royalty-api.herokuapp.com",w=function(){return function(e){e({type:"USER_REGISTRATION",payload:""}),e({type:"USER_ERROR",payload:""})}},O=(a(122),a(4)),I=(a(20),function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).login=function(){var e=n.props.login,t={email:n.state.email,password:n.state.password};e&&e(t)},n.onChange=function(e){n.setState(Object(k.a)({},e.target.id,e.target.value||""))},n.onInputAlbumId=function(e){13===e&&("email"===document.activeElement.id?document.getElementById("password").focus():"password"===document.activeElement.id&&n.login())},n.tmr=null,n.state={email:"",password:""},n}return Object(E.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){if(this.props.msg_registration&&e.msg_registration!==this.props.msg_registration){Object(O.b)(this.props.msg_registration);var n=this.props.reset;clearTimeout(this.tmr),this.tmr=setTimeout((function(){n(),this.tmr=null,window.location.href="/"}),1e3),this.setState({email:"",password:""})}if(this.props.msg_user_error&&e.msg_user_error!==this.props.msg_user_error){console.log(this.props.msg_user_error);var s=this.props.msg_user_error,l=[];if(s.msg_login_email&&l.push(s.msg_login_email),s.msg_login_password&&l.push(s.msg_login_password),0===l.length)Object(O.b)(this.props.msg_user_error);else for(var r=0;r<l.length;r++)Object(O.b)(l[r]);var i=this.props.reset;clearTimeout(this.tmr),this.tmr=setTimeout((function(){i(),this.tmr=null}),1500)}}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"spinning-curtain",style:{display:this.props.spinning?"flex":"none"}},s.a.createElement("div",{className:"lds-dual-ring"})),s.a.createElement("div",{className:"admin-login-bg"},s.a.createElement(O.a,null),s.a.createElement("div",{className:"login-body"},s.a.createElement("div",{className:"pb-30 align-center txt-20 txt-bold col-heavyDark"},"Sign In"),s.a.createElement("input",{id:"email",type:"email",placeholder:"Email",className:"mt-20",value:this.state.email,onChange:function(t){return e.onChange(t)},onKeyUp:function(t){return e.onInputAlbumId(t.keyCode)},required:!0}),s.a.createElement("input",{id:"password",type:"password",placeholder:"****",className:"mt-20",value:this.state.password,onChange:function(t){return e.onChange(t)},onKeyUp:function(t){return e.onInputAlbumId(t.keyCode)},required:!0}),s.a.createElement("div",{className:"btn-common txt-16 col-white justify-center mouse-cursor mt-30",onClick:this.login},"LOGIN"))))}}]),a}(s.a.Component)),j=Object(l.b)((function(e){return{spinning:e.users.spinning,msg_registration:e.users.msg_registration,msg_user_error:e.users.msg_user_error}}),{reset:w,login:function(e){return function(t){console.log(e),t({type:m,payload:!0}),C.a.post(S+"/api/users/login",e).then((function(e){t({type:m,payload:!1}),t({type:"USER_REGISTRATION",payload:e.data.msg});var a=e.data.results;localStorage.setItem("id",a._id),localStorage.setItem("name",a.name),localStorage.setItem("email",a.email),localStorage.setItem("role",a.role),localStorage.setItem("token",e.data.token)})).catch((function(e){t({type:m,payload:!1}),t({type:"USER_ERROR",payload:e.response?e.response.data.msg:{error:"error"}})}))}}})(I),A=a(94),L=Object(l.b)((function(e){return{}}))((function(e){var t=e.component,a=(e.auth,Object(A.a)(e,["component","auth"])),n=localStorage.getItem("email");return s.a.createElement(v.b,Object.assign({},a,{render:function(e){return""!==n&&void 0!==n?s.a.createElement(t,e):s.a.createElement(v.a,{to:"/login"})}}))})),T=(a(124),a(27),function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(_.a)(this,a);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))).Cancel=function(){(0,e.props.handleClose)()},e.logOut=function(){(0,e.props.logOut)()},e}return Object(E.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){if(this.props.msg_registration&&e.msg_registration!==this.props.msg_registration){Object(O.b)(this.props.msg_registration);var n=this.props.reset;clearTimeout(this.tmr),this.tmr=setTimeout((function(){n(),this.tmr=null,window.location.href="/login"}),2e3)}}},{key:"render",value:function(){var e=this.props.show?"modal-b display-modal-block":"modal-b display-modal-none";return s.a.createElement("div",{className:e},s.a.createElement(O.a,null),s.a.createElement("section",{className:"modal-article"},s.a.createElement("div",{className:"create-modal-header txt-20 justify-left col-white"},"Log Out"),s.a.createElement("div",{className:"pt-30 pb-30 txt-18 justify-center"},"Do you want to log out really?"),s.a.createElement("div",{className:"flex-grid2 modal-grid2-gaps modal-p"},s.a.createElement("div",{className:"btn-common mouse-cursor justify-center col-white",onClick:this.Cancel},"Cancel"),s.a.createElement("div",{className:"btn-common mouse-cursor justify-center col-white",onClick:this.logOut},"Ok"))))}}]),a}(n.Component)),B=Object(l.b)((function(e){return{msg_registration:e.users.msg_registration}}),{reset:w,logOut:function(){return function(e){e({type:"USER_REGISTRATION",payload:"The logout has succeed."}),localStorage.setItem("id",""),localStorage.setItem("name",""),localStorage.setItem("email",""),localStorage.setItem("role",""),localStorage.setItem("token","")}}})(T),R=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(_.a)(this,n),(a=t.call(this,e)).assignMenu=function(){a.setState({assignVisible:!a.state.assignVisible}),a.state.assignVisible||a.setState({userVisible:!1}),a.setState({menuVisible:!1})},a.toggleMenu=function(){a.setState({menuVisible:!a.state.menuVisible})},a.userMenu=function(){a.setState({userVisible:!a.state.userVisible}),a.state.userVisible||a.setState({assignVisible:!1})},a.handleScroll=function(){window.scrollY>50?a.setState({scrolling:!0}):a.setState({scrolling:!1})},a.onLink=function(){a.setState({menuVisible:!1,assignVisible:!1,userVisible:!1})},a.showModal=function(){a.setState({show:!0})},a.hideModal=function(){a.setState({show:!1})},a.tmr=null,a.state={menuVisible:!1,scrolling:!1,assignVisible:!1,userVisible:!1,show:!1},a}return Object(E.a)(n,[{key:"componentDidMount",value:function(){localStorage.id||(window.location.href="/login"),window.addEventListener("scroll",this.handleScroll,!0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){return s.a.createElement("div",{className:"header-body ".concat(this.state.scrolling?"white":"")},s.a.createElement("div",{className:"header-height ".concat(this.state.scrolling?"white":"")},s.a.createElement("div",{className:"logo-mw flex-space"},s.a.createElement("div",{className:"header-logo"},s.a.createElement(y.b,{className:"btn-underLine",to:"admin"===localStorage.role?"/user-list":"/user/reports"},s.a.createElement("div",{className:"col-selected-bg txt-bold"},"Hi ",localStorage.name))),s.a.createElement("div",{className:"justify-center"},s.a.createElement("div",{className:"flex-center"},"admin"===localStorage.role&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"btn-navbar mouse-cursor dropdown"},s.a.createElement("span",null,"User"),this.state.scrolling?s.a.createElement("img",{className:"drop-icon",src:a(125),alt:"drop down"}):s.a.createElement("img",{className:"drop-icon",src:a(126),alt:"drop down"}),s.a.createElement("div",{className:"dropdown-content"},s.a.createElement(y.b,{className:"btn-underLine",to:"/add-user"},s.a.createElement("div",{className:"menu-txt mouse-cursor"},"Add User")),s.a.createElement(y.b,{className:"btn-underLine",to:"/user-list"},s.a.createElement("div",{className:"menu-txt mouse-cursor"},"User List")))),s.a.createElement(y.b,{className:"btn-underLine",to:"/add-album"},s.a.createElement("div",{className:"btn-navbar mouse-cursor"},"New Album")),s.a.createElement(y.b,{className:"btn-underLine",to:"/assign-album"},s.a.createElement("div",{className:"btn-navbar mouse-cursor"},"Assign to User"))),"publisher"===localStorage.role&&s.a.createElement(s.a.Fragment,null,s.a.createElement(y.b,{className:"btn-underLine",to:"/user-agreement"},s.a.createElement("div",{className:"btn-navbar mouse-cursor"},"Payment")),s.a.createElement(y.b,{className:"btn-underLine",to:"/user-reports"},s.a.createElement("div",{className:"btn-navbar mouse-cursor"},"My Reports")),s.a.createElement(y.b,{className:"btn-underLine",to:"/user-settings"},s.a.createElement("div",{className:"btn-navbar mouse-cursor"},"Profile Settings"))),s.a.createElement("div",{className:"btn-underLine btn-navbar mouse-cursor btn-sign",onClick:this.showModal},"Log out")),s.a.createElement("div",{id:"menu",className:"justify-center",onClick:this.toggleMenu},s.a.createElement("img",{className:"mobile-menu mouse-cursor",src:a(127),alt:""}))))),this.state.menuVisible&&("admin"===localStorage.role?s.a.createElement("div",{className:"menu-container trans-menu",style:{overflowY:"auto;",maxHeight:"70vh"}},s.a.createElement("div",{className:"btn-underLine"},s.a.createElement("div",{className:"navbar-menu justify-center txt-24 mouse-cursor btn-navbar-bb",onClick:this.logOut},"Log out")),s.a.createElement("div",{className:this.state.userVisible?"navbar-menu justify-center txt-24 mouse-cursor btn-navbar-bb menu-selectedBg":"navbar-menu justify-center txt-24 mouse-cursor btn-navbar-bb",onClick:this.userMenu},"User",this.state.userVisible?s.a.createElement("div",{className:"dropdown-icon justify-center"},s.a.createElement("img",{className:"down-up-size",src:a(128),alt:""})):s.a.createElement("div",{className:"dropdown-icon"},s.a.createElement("img",{className:"down-up-size",src:a(129),alt:""}))),this.state.userVisible&&s.a.createElement("div",null,s.a.createElement(y.b,{to:"/add-user",className:"btn-underLine_black secondMenu justify-center menu-txt btn-navbar-bb mouse-cursor",onClick:this.onLink},s.a.createElement("div",null,"Add User")),s.a.createElement(y.b,{to:"/user-list",className:"btn-underLine_black secondMenu justify-center menu-txt btn-navbar-bb mouse-cursor",onClick:this.onLink},s.a.createElement("div",null,"User List"))),s.a.createElement(y.b,{className:"btn-underLine",to:"/add-album"},s.a.createElement("div",{className:"navbar-menu justify-center txt-24 mouse-cursor btn-navbar-bb",onClick:this.onLink},"New Album")),s.a.createElement(y.b,{className:"btn-underLine",to:"/assign-album"},s.a.createElement("div",{className:this.state.assignVisible?"navbar-menu justify-center txt-24 mouse-cursor btn-navbar-bb menu-selectedBg":"navbar-menu justify-center txt-24 mouse-cursor btn-navbar-bb",onClick:this.assignMenu},"Assign to User"))):s.a.createElement("div",{className:"menu-container trans-menu",style:{overflowY:"auto;",maxHeight:"70vh"}},s.a.createElement("div",{className:"btn-underLine"},s.a.createElement("div",{className:"navbar-menu justify-center txt-24 mouse-cursor btn-navbar-bb",onClick:this.logOut},"Log out")),s.a.createElement(y.b,{className:"btn-underLine",to:"/user-agreement"},s.a.createElement("div",{className:"navbar-menu justify-center txt-24 mouse-cursor btn-navbar-bb",onClick:this.onLink},"Payment")),s.a.createElement(y.b,{className:"btn-underLine",to:"/user-reports"},s.a.createElement("div",{className:"navbar-menu justify-center txt-24 mouse-cursor btn-navbar-bb",onClick:this.assignMenu},"My Reports")),s.a.createElement(y.b,{className:"btn-underLine",to:"/user-settings"},s.a.createElement("div",{className:"navbar-menu justify-center txt-24 mouse-cursor btn-navbar-bb",onClick:this.assignMenu},"Profile Settings")))),s.a.createElement(B,{show:this.state.show,handleClose:this.hideModal}))}}]),n}(n.Component),M=Object(l.b)((function(e){return{}}),{})(R),U=function(){return function(e){e({type:"CREATE_PUBLISHER",payload:""}),e({type:"ERROR_CREATE_PUBLISHER",payload:""}),e({type:"GET_USER_ERROR",payload:""}),e({type:"DELETE_USER",payload:""}),e({type:"ERROR_USER",payload:""})}},x=function(e){return function(t){t({type:m,payload:!0}),C.a.post(S+"/api/users/get-user",e).then((function(e){t({type:m,payload:!1}),t({type:"GET_USER",payload:e.data.results})})).catch((function(e){t({type:m,payload:!1}),t({type:"ERROR_USER",payload:e.response?e.response.data.msg:{error:"error"}})}))}},P=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){return Object(_.a)(this,a),t.apply(this,arguments)}return Object(E.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{value:"AF"},"Afghanistan"),s.a.createElement("option",{value:"AX"},"\xc5land Islands"),s.a.createElement("option",{value:"AL"},"Albania"),s.a.createElement("option",{value:"DZ"},"Algeria"),s.a.createElement("option",{value:"AS"},"American Samoa"),s.a.createElement("option",{value:"AD"},"Andorra"),s.a.createElement("option",{value:"AO"},"Angola"),s.a.createElement("option",{value:"AI"},"Anguilla"),s.a.createElement("option",{value:"AQ"},"Antarctica"),s.a.createElement("option",{value:"AG"},"Antigua and Barbuda"),s.a.createElement("option",{value:"AR"},"Argentina"),s.a.createElement("option",{value:"AM"},"Armenia"),s.a.createElement("option",{value:"AW"},"Aruba"),s.a.createElement("option",{value:"AU"},"Australia"),s.a.createElement("option",{value:"AT"},"Austria"),s.a.createElement("option",{value:"AZ"},"Azerbaijan"),s.a.createElement("option",{value:"BS"},"Bahamas"),s.a.createElement("option",{value:"BH"},"Bahrain"),s.a.createElement("option",{value:"BD"},"Bangladesh"),s.a.createElement("option",{value:"BB"},"Barbados"),s.a.createElement("option",{value:"BY"},"Belarus"),s.a.createElement("option",{value:"BE"},"Belgium"),s.a.createElement("option",{value:"BZ"},"Belize"),s.a.createElement("option",{value:"BJ"},"Benin"),s.a.createElement("option",{value:"BM"},"Bermuda"),s.a.createElement("option",{value:"BT"},"Bhutan"),s.a.createElement("option",{value:"BO"},"Bolivia, Plurinational State of"),s.a.createElement("option",{value:"BQ"},"Bonaire, Sint Eustatius and Saba"),s.a.createElement("option",{value:"BA"},"Bosnia and Herzegovina"),s.a.createElement("option",{value:"BW"},"Botswana"),s.a.createElement("option",{value:"BV"},"Bouvet Island"),s.a.createElement("option",{value:"BR"},"Brazil"),s.a.createElement("option",{value:"IO"},"British Indian Ocean Territory"),s.a.createElement("option",{value:"BN"},"Brunei Darussalam"),s.a.createElement("option",{value:"BG"},"Bulgaria"),s.a.createElement("option",{value:"BF"},"Burkina Faso"),s.a.createElement("option",{value:"BI"},"Burundi"),s.a.createElement("option",{value:"KH"},"Cambodia"),s.a.createElement("option",{value:"CM"},"Cameroon"),s.a.createElement("option",{value:"CA"},"Canada"),s.a.createElement("option",{value:"CV"},"Cape Verde"),s.a.createElement("option",{value:"KY"},"Cayman Islands"),s.a.createElement("option",{value:"CF"},"Central African Republic"),s.a.createElement("option",{value:"TD"},"Chad"),s.a.createElement("option",{value:"CL"},"Chile"),s.a.createElement("option",{value:"CN"},"China"),s.a.createElement("option",{value:"CX"},"Christmas Island"),s.a.createElement("option",{value:"CC"},"Cocos (Keeling) Islands"),s.a.createElement("option",{value:"CO"},"Colombia"),s.a.createElement("option",{value:"KM"},"Comoros"),s.a.createElement("option",{value:"CG"},"Congo"),s.a.createElement("option",{value:"CD"},"Congo, the Democratic Republic of the"),s.a.createElement("option",{value:"CK"},"Cook Islands"),s.a.createElement("option",{value:"CR"},"Costa Rica"),s.a.createElement("option",{value:"CI"},"C\xf4te d'Ivoire"),s.a.createElement("option",{value:"HR"},"Croatia"),s.a.createElement("option",{value:"CU"},"Cuba"),s.a.createElement("option",{value:"CW"},"Cura\xe7ao"),s.a.createElement("option",{value:"CY"},"Cyprus"),s.a.createElement("option",{value:"CZ"},"Czech Republic"),s.a.createElement("option",{value:"DK"},"Denmark"),s.a.createElement("option",{value:"DJ"},"Djibouti"),s.a.createElement("option",{value:"DM"},"Dominica"),s.a.createElement("option",{value:"DO"},"Dominican Republic"),s.a.createElement("option",{value:"EC"},"Ecuador"),s.a.createElement("option",{value:"EG"},"Egypt"),s.a.createElement("option",{value:"SV"},"El Salvador"),s.a.createElement("option",{value:"GQ"},"Equatorial Guinea"),s.a.createElement("option",{value:"ER"},"Eritrea"),s.a.createElement("option",{value:"EE"},"Estonia"),s.a.createElement("option",{value:"ET"},"Ethiopia"),s.a.createElement("option",{value:"FK"},"Falkland Islands (Malvinas)"),s.a.createElement("option",{value:"FO"},"Faroe Islands"),s.a.createElement("option",{value:"FJ"},"Fiji"),s.a.createElement("option",{value:"FI"},"Finland"),s.a.createElement("option",{value:"FR"},"France"),s.a.createElement("option",{value:"GF"},"French Guiana"),s.a.createElement("option",{value:"PF"},"French Polynesia"),s.a.createElement("option",{value:"TF"},"French Southern Territories"),s.a.createElement("option",{value:"GA"},"Gabon"),s.a.createElement("option",{value:"GM"},"Gambia"),s.a.createElement("option",{value:"GE"},"Georgia"),s.a.createElement("option",{value:"DE"},"Germany"),s.a.createElement("option",{value:"GH"},"Ghana"),s.a.createElement("option",{value:"GI"},"Gibraltar"),s.a.createElement("option",{value:"GR"},"Greece"),s.a.createElement("option",{value:"GL"},"Greenland"),s.a.createElement("option",{value:"GD"},"Grenada"),s.a.createElement("option",{value:"GP"},"Guadeloupe"),s.a.createElement("option",{value:"GU"},"Guam"),s.a.createElement("option",{value:"GT"},"Guatemala"),s.a.createElement("option",{value:"GG"},"Guernsey"),s.a.createElement("option",{value:"GN"},"Guinea"),s.a.createElement("option",{value:"GW"},"Guinea-Bissau"),s.a.createElement("option",{value:"GY"},"Guyana"),s.a.createElement("option",{value:"HT"},"Haiti"),s.a.createElement("option",{value:"HM"},"Heard Island and McDonald Islands"),s.a.createElement("option",{value:"VA"},"Holy See (Vatican City State)"),s.a.createElement("option",{value:"HN"},"Honduras"),s.a.createElement("option",{value:"HK"},"Hong Kong"),s.a.createElement("option",{value:"HU"},"Hungary"),s.a.createElement("option",{value:"IS"},"Iceland"),s.a.createElement("option",{value:"IN"},"India"),s.a.createElement("option",{value:"ID"},"Indonesia"),s.a.createElement("option",{value:"IR"},"Iran, Islamic Republic of"),s.a.createElement("option",{value:"IQ"},"Iraq"),s.a.createElement("option",{value:"IE"},"Ireland"),s.a.createElement("option",{value:"IM"},"Isle of Man"),s.a.createElement("option",{value:"IL"},"Israel"),s.a.createElement("option",{value:"IT"},"Italy"),s.a.createElement("option",{value:"JM"},"Jamaica"),s.a.createElement("option",{value:"JP"},"Japan"),s.a.createElement("option",{value:"JE"},"Jersey"),s.a.createElement("option",{value:"JO"},"Jordan"),s.a.createElement("option",{value:"KZ"},"Kazakhstan"),s.a.createElement("option",{value:"KE"},"Kenya"),s.a.createElement("option",{value:"KI"},"Kiribati"),s.a.createElement("option",{value:"KP"},"Korea, Democratic People's Republic of"),s.a.createElement("option",{value:"KR"},"Korea, Republic of"),s.a.createElement("option",{value:"KW"},"Kuwait"),s.a.createElement("option",{value:"KG"},"Kyrgyzstan"),s.a.createElement("option",{value:"LA"},"Lao People's Democratic Republic"),s.a.createElement("option",{value:"LV"},"Latvia"),s.a.createElement("option",{value:"LB"},"Lebanon"),s.a.createElement("option",{value:"LS"},"Lesotho"),s.a.createElement("option",{value:"LR"},"Liberia"),s.a.createElement("option",{value:"LY"},"Libya"),s.a.createElement("option",{value:"LI"},"Liechtenstein"),s.a.createElement("option",{value:"LT"},"Lithuania"),s.a.createElement("option",{value:"LU"},"Luxembourg"),s.a.createElement("option",{value:"MO"},"Macao"),s.a.createElement("option",{value:"MK"},"Macedonia, the former Yugoslav Republic of"),s.a.createElement("option",{value:"MG"},"Madagascar"),s.a.createElement("option",{value:"MW"},"Malawi"),s.a.createElement("option",{value:"MY"},"Malaysia"),s.a.createElement("option",{value:"MV"},"Maldives"),s.a.createElement("option",{value:"ML"},"Mali"),s.a.createElement("option",{value:"MT"},"Malta"),s.a.createElement("option",{value:"MH"},"Marshall Islands"),s.a.createElement("option",{value:"MQ"},"Martinique"),s.a.createElement("option",{value:"MR"},"Mauritania"),s.a.createElement("option",{value:"MU"},"Mauritius"),s.a.createElement("option",{value:"YT"},"Mayotte"),s.a.createElement("option",{value:"MX"},"Mexico"),s.a.createElement("option",{value:"FM"},"Micronesia, Federated States of"),s.a.createElement("option",{value:"MD"},"Moldova, Republic of"),s.a.createElement("option",{value:"MC"},"Monaco"),s.a.createElement("option",{value:"MN"},"Mongolia"),s.a.createElement("option",{value:"ME"},"Montenegro"),s.a.createElement("option",{value:"MS"},"Montserrat"),s.a.createElement("option",{value:"MA"},"Morocco"),s.a.createElement("option",{value:"MZ"},"Mozambique"),s.a.createElement("option",{value:"MM"},"Myanmar"),s.a.createElement("option",{value:"NA"},"Namibia"),s.a.createElement("option",{value:"NR"},"Nauru"),s.a.createElement("option",{value:"NP"},"Nepal"),s.a.createElement("option",{value:"NL"},"Netherlands"),s.a.createElement("option",{value:"NC"},"New Caledonia"),s.a.createElement("option",{value:"NZ"},"New Zealand"),s.a.createElement("option",{value:"NI"},"Nicaragua"),s.a.createElement("option",{value:"NE"},"Niger"),s.a.createElement("option",{value:"NG"},"Nigeria"),s.a.createElement("option",{value:"NU"},"Niue"),s.a.createElement("option",{value:"NF"},"Norfolk Island"),s.a.createElement("option",{value:"MP"},"Northern Mariana Islands"),s.a.createElement("option",{value:"NO"},"Norway"),s.a.createElement("option",{value:"OM"},"Oman"),s.a.createElement("option",{value:"PK"},"Pakistan"),s.a.createElement("option",{value:"PW"},"Palau"),s.a.createElement("option",{value:"PS"},"Palestinian Territory, Occupied"),s.a.createElement("option",{value:"PA"},"Panama"),s.a.createElement("option",{value:"PG"},"Papua New Guinea"),s.a.createElement("option",{value:"PY"},"Paraguay"),s.a.createElement("option",{value:"PE"},"Peru"),s.a.createElement("option",{value:"PH"},"Philippines"),s.a.createElement("option",{value:"PN"},"Pitcairn"),s.a.createElement("option",{value:"PL"},"Poland"),s.a.createElement("option",{value:"PT"},"Portugal"),s.a.createElement("option",{value:"PR"},"Puerto Rico"),s.a.createElement("option",{value:"QA"},"Qatar"),s.a.createElement("option",{value:"RE"},"R\xe9union"),s.a.createElement("option",{value:"RO"},"Romania"),s.a.createElement("option",{value:"RU"},"Russian Federation"),s.a.createElement("option",{value:"RW"},"Rwanda"),s.a.createElement("option",{value:"BL"},"Saint Barth\xe9lemy"),s.a.createElement("option",{value:"SH"},"Saint Helena, Ascension and Tristan da Cunha"),s.a.createElement("option",{value:"KN"},"Saint Kitts and Nevis"),s.a.createElement("option",{value:"LC"},"Saint Lucia"),s.a.createElement("option",{value:"MF"},"Saint Martin (French part)"),s.a.createElement("option",{value:"PM"},"Saint Pierre and Miquelon"),s.a.createElement("option",{value:"VC"},"Saint Vincent and the Grenadines"),s.a.createElement("option",{value:"WS"},"Samoa"),s.a.createElement("option",{value:"SM"},"San Marino"),s.a.createElement("option",{value:"ST"},"Sao Tome and Principe"),s.a.createElement("option",{value:"SA"},"Saudi Arabia"),s.a.createElement("option",{value:"SN"},"Senegal"),s.a.createElement("option",{value:"RS"},"Serbia"),s.a.createElement("option",{value:"SC"},"Seychelles"),s.a.createElement("option",{value:"SL"},"Sierra Leone"),s.a.createElement("option",{value:"SG"},"Singapore"),s.a.createElement("option",{value:"SX"},"Sint Maarten (Dutch part)"),s.a.createElement("option",{value:"SK"},"Slovakia"),s.a.createElement("option",{value:"SI"},"Slovenia"),s.a.createElement("option",{value:"SB"},"Solomon Islands"),s.a.createElement("option",{value:"SO"},"Somalia"),s.a.createElement("option",{value:"ZA"},"South Africa"),s.a.createElement("option",{value:"GS"},"South Georgia and the South Sandwich Islands"),s.a.createElement("option",{value:"SS"},"South Sudan"),s.a.createElement("option",{value:"ES"},"Spain"),s.a.createElement("option",{value:"LK"},"Sri Lanka"),s.a.createElement("option",{value:"SD"},"Sudan"),s.a.createElement("option",{value:"SR"},"Suriname"),s.a.createElement("option",{value:"SJ"},"Svalbard and Jan Mayen"),s.a.createElement("option",{value:"SZ"},"Swaziland"),s.a.createElement("option",{value:"SE"},"Sweden"),s.a.createElement("option",{value:"CH"},"Switzerland"),s.a.createElement("option",{value:"SY"},"Syrian Arab Republic"),s.a.createElement("option",{value:"TW"},"Taiwan, Province of China"),s.a.createElement("option",{value:"TJ"},"Tajikistan"),s.a.createElement("option",{value:"TZ"},"Tanzania, United Republic of"),s.a.createElement("option",{value:"TH"},"Thailand"),s.a.createElement("option",{value:"TL"},"Timor-Leste"),s.a.createElement("option",{value:"TG"},"Togo"),s.a.createElement("option",{value:"TK"},"Tokelau"),s.a.createElement("option",{value:"TO"},"Tonga"),s.a.createElement("option",{value:"TT"},"Trinidad and Tobago"),s.a.createElement("option",{value:"TN"},"Tunisia"),s.a.createElement("option",{value:"TR"},"Turkey"),s.a.createElement("option",{value:"TM"},"Turkmenistan"),s.a.createElement("option",{value:"TC"},"Turks and Caicos Islands"),s.a.createElement("option",{value:"TV"},"Tuvalu"),s.a.createElement("option",{value:"UG"},"Uganda"),s.a.createElement("option",{value:"UA"},"Ukraine"),s.a.createElement("option",{value:"AE"},"United Arab Emirates"),s.a.createElement("option",{value:"GB"},"United Kingdom"),s.a.createElement("option",{value:"US"},"United States"),s.a.createElement("option",{value:"UM"},"United States Minor Outlying Islands"),s.a.createElement("option",{value:"UY"},"Uruguay"),s.a.createElement("option",{value:"UZ"},"Uzbekistan"),s.a.createElement("option",{value:"VU"},"Vanuatu"),s.a.createElement("option",{value:"VE"},"Venezuela, Bolivarian Republic of"),s.a.createElement("option",{value:"VN"},"Viet Nam"),s.a.createElement("option",{value:"VG"},"Virgin Islands, British"),s.a.createElement("option",{value:"VI"},"Virgin Islands, U.S."),s.a.createElement("option",{value:"WF"},"Wallis and Futuna"),s.a.createElement("option",{value:"EH"},"Western Sahara"),s.a.createElement("option",{value:"YE"},"Yemen"),s.a.createElement("option",{value:"ZM"},"Zambia"),s.a.createElement("option",{value:"ZW"},"Zimbabwe"))}}]),a}(n.Component),D=a(32),G=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState(Object(k.a)({},e.target.id,e.target.value||""))},n.onPhoneChange=function(e){n.setState(Object(k.a)({},e.target.id,parseFloat(e.target.value||0)))},n.onInitial=function(){n.setState({name:void 0===n.state.userId?n.state.user_edit.name:"",phone:void 0===n.state.userId?n.state.user_edit.phone:"",email:void 0===n.state.userId?n.state.user_edit.email:"",password:void 0===n.state.userId?n.state.user_edit.origin_password:"",confirm_password:void 0===n.state.userId?n.state.user_edit.origin_password:"",country:void 0===n.state.userId?n.state.user_edit.country:"US",bank_info:void 0===n.state.userId?n.state.user_edit.bank_info:"",currency_type:void 0===n.state.userId?n.state.user_edit.currency_type:D.SYMBOL[0]})},n.onClickInitial=function(){n.setState({name:void 0!==n.state.userId?n.state.user_edit.name:"",phone:void 0!==n.state.userId?n.state.user_edit.phone:"",email:void 0!==n.state.userId?n.state.user_edit.email:"",password:void 0!==n.state.userId?n.state.user_edit.origin_password:"",confirm_password:void 0!==n.state.userId?n.state.user_edit.origin_password:"",country:void 0!==n.state.userId?n.state.user_edit.country:"US",bank_info:void 0!==n.state.userId?n.state.user_edit.bank_info:"",currency_type:void 0!==n.state.userId?n.state.user_edit.currency_type:D.SYMBOL[0]})},n.onSelectCountry=function(e){n.setState({country:e.target.value})},n.onSave=function(){var e=n.props.createPublisher;if(e){var t={role_id:localStorage.id,name:n.state.name,phone:n.state.phone,email:n.state.email,password:n.state.password,confirm_password:n.state.confirm_password,country:n.state.country,bank_info:n.state.bank_info,currency:n.state.currency_type,flag:"create"};console.log(t),e(t)}},n.onUpdate=function(){var e=n.props.createPublisher;e&&e({role_id:localStorage.id,id:n.state.userId,name:n.state.name,phone:n.state.phone,email:n.state.email,password:n.state.password,confirm_password:n.state.confirm_password,country:n.state.country,bank_info:n.state.bank_info,currency:n.state.currency_type,flag:"update"})},n.onInput=function(e){13===e&&("name"===document.activeElement.id&&""!==n.state.name?document.getElementById("phone").focus():"phone"===document.activeElement.id&&""!==n.state.phone?document.getElementById("email").focus():"email"===document.activeElement.id&&""!==n.state.email?document.getElementById("password").focus():"password"===document.activeElement.id&&""!==n.state.password?document.getElementById("confirm_password").focus():"confirm_password"===document.activeElement.id&&""!==n.state.confirm_password?document.getElementById("bank_info").focus():"bank_info"===document.activeElement.id&&""!==n.state.bank_info&&(n.state.userId?n.onUpdate():n.onSave()))},n.tmr=null,n.state={userId:"",user_edit:"",name:"",phone:"",email:"",password:"",confirm_password:"",country:"US",bank_info:"",currency_type:D.SYMBOL[0]},n}return Object(E.a)(a,[{key:"componentDidMount",value:function(){if(this.props.match.params&&this.props.match.params.id){var e=this.props.getPublisherById;if(e)e({id:this.props.match.params.id})}this.onInitial()}},{key:"componentDidUpdate",value:function(e,t,a){if(this.state.userId!==this.props.match.params.id&&(this.setState({userId:this.props.match.params.id}),this.onInitial()),this.props.msg_create_publisher&&e.msg_create_publisher!==this.props.msg_create_publisher){Object(O.b)(this.props.msg_create_publisher);var n=this.props.reset;clearTimeout(this.tmr),this.tmr=setTimeout((function(){n(),this.tmr=null}),2e3),this.onInitial()}if(this.props.msg_publisher_error&&e.msg_publisher_error!==this.props.msg_publisher_error){console.log(this.props.msg_publisher_error);var s=this.props.msg_publisher_error,l=[];if(s.name&&l.push(s.name),s.phone&&l.push(s.phone),s.email&&l.push(s.email),s.password&&l.push(s.password),s.confirm_password&&l.push(s.confirm_password),s.country&&l.push(s.country),s.bank_info&&l.push(s.bank_info),0===l.length)Object(O.b)(this.props.msg_publisher_error);else for(var r=0;r<l.length;r++)Object(O.b)(l[r]);var i=this.props.reset;clearTimeout(this.tmr),this.tmr=setTimeout((function(){i(),this.tmr=null}),6e3)}if(this.props.msg_user&&this.props.msg_user!==e.msg_user){Object(O.b)(this.props.msg_user);var o=this.props.reset;clearTimeout(this.tmr),this.tmr=setTimeout((function(){o(),this.tmr=null}),2e3),this.onInitial()}if(this.props.get_user&&this.props.get_user!==e.get_user){var c=this.props.get_user;this.setState({user_edit:c,name:c.name,phone:c.phone,email:c.email,password:c.origin_password,confirm_password:c.origin_password,country:c.country,bank_info:c.bank_info,currency_type:c.currency?c.currency:D.SYMBOL[0]})}}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(O.a,null),s.a.createElement("div",{className:"spinning-curtain",style:{display:this.props.spinning?"flex":"none"}},s.a.createElement("div",{className:"lds-dual-ring"})),s.a.createElement("div",{className:"col-darkBlue txt-30 txt-bold pb-20 pl-40"},"Add User"),s.a.createElement("div",{className:"form-bg"},s.a.createElement("input",{id:"name",type:"text",className:"mt-20",placeholder:"User Name",value:this.state.name,onChange:function(t){return e.onChange(t)},onKeyUp:function(t){return e.onInput(t.keyCode)},required:!0}),s.a.createElement("input",{id:"phone",type:"tel",className:"mt-20",placeholder:"Phone Number",value:this.state.phone,onChange:function(t){return e.onPhoneChange(t)},onKeyUp:function(t){return e.onInput(t.keyCode)},required:!0}),s.a.createElement("input",{id:"email",type:"email",className:"mt-20",placeholder:"Email",value:this.state.email,onChange:function(t){return e.onChange(t)},onKeyUp:function(t){return e.onInput(t.keyCode)},required:!0}),s.a.createElement("input",{id:"password",type:"password",className:"mt-20",placeholder:"Password",value:this.state.password,onChange:function(t){return e.onChange(t)},onKeyUp:function(t){return e.onInput(t.keyCode)},required:!0}),s.a.createElement("input",{id:"confirm_password",type:"password",className:"mt-20",placeholder:"Confirm Password",value:this.state.confirm_password,onChange:function(t){return e.onChange(t)},onKeyUp:function(t){return e.onInput(t.keyCode)},required:!0}),s.a.createElement("select",{className:"mt-20",value:this.state.country,onChange:function(t){return e.onSelectCountry(t)},onKeyUp:function(t){return e.onInput(t.keyCode)}},s.a.createElement(P,null)),s.a.createElement("input",{id:"bank_info",type:"text",className:"mt-20",placeholder:"Bank Information",value:this.state.bank_info,onChange:function(t){return e.onChange(t)},onKeyUp:function(t){return e.onInput(t.keyCode)},required:!0}),s.a.createElement("div",{className:"mt-20"},s.a.createElement("select",{className:"publisher mouse-cursor",value:this.state.currency_type,onChange:function(t){return e.setState({currency_type:t.target.value})}},s.a.createElement("option",{key:"0",value:"0",disabled:!0},"Currency Type"),D.SYMBOL&&D.SYMBOL.map((function(e,t){return s.a.createElement("option",{key:t+1,value:e},D.CURRENCY[t])})))),s.a.createElement("div",{className:"flex-space fields"},s.a.createElement("div",{className:"flex-space fields mt-20"},s.a.createElement("div",{className:"btn-common cancel col-white mouse-cursor action",onClick:this.props.history.goBack},"BACK"),s.a.createElement("div",{className:"btn-common initial col-white mouse-cursor action",onClick:this.onClickInitial},"INITIALIZE")),this.state.userId?s.a.createElement("div",{className:"btn-common save col-white mouse-cursor",onClick:this.onUpdate},"UPDATE"):s.a.createElement("div",{className:"btn-common save col-white mouse-cursor",onClick:this.onSave},"SAVE"))))}}]),a}(n.Component),V=Object(l.b)((function(e){return{spinning:e.users.spinning,msg_create_publisher:e.users.msg_create_publisher,msg_publisher_error:e.users.msg_publisher_error,get_user:e.users.get_user,msg_user:e.users.msg_user}}),{reset:U,createPublisher:function(e){return function(t){console.log(e),t({type:m,payload:!0}),C.a.post(S+"/api/users/create-publisher",e).then((function(e){t({type:m,payload:!1}),t({type:"CREATE_PUBLISHER",payload:e.data.msg})})).catch((function(e){t({type:m,payload:!1}),t({type:"ERROR_CREATE_PUBLISHER",payload:e.response?e.response.data.msg:{error:"error"}})}))}},getPublisherById:x})(G),F=C.a.create({baseURL:S,timeout:3e3,headers:{Authorization:localStorage.getItem("token")}}),K=function(){return function(e){e({type:"ERROR_TRACK_LIST",payload:""}),e({type:"TRACK_UPDATE_PAYMENT",payload:""})}},Y=function(){return function(e){e({type:"UPDATE_PAID",payload:""})}},H=function(e){return function(t){t({type:m,payload:!0}),C.a.post(S+"/api/managements/get-tracks",e).then((function(e){t({type:m,payload:!1}),t({type:"GET_TRACK_LIST",payload:e.data.results})})).catch((function(e){t({type:m,payload:!1}),t({type:"ERROR_TRACK_LIST",payload:e.response?e.response.data.msg:{error:"error"}})}))}},z=function(e){return function(t){t({type:m,payload:!0}),C.a.post(S+"/api/managements/update-paid",e).then((function(e){t({type:m,payload:!1}),t({type:"UPDATE_PAID",payload:e.data.msg})})).catch((function(e){t({type:m,payload:!1}),t({type:"UPDATE_PAID",payload:e.response?e.response.data.msg:{error:"error"}})}))}},Z=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(_.a)(this,a);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))).Cancel=function(){(0,e.props.handleClose)()},e.onDelete=function(t){var a={role_id:localStorage.id,id:t};(0,e.props.deleteUser)(a)},e}return Object(E.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){if(this.props.msg_user_delete&&e.msg_user_delete!==this.props.msg_user_delete){Object(O.b)(this.props.msg_user_delete);var n=this.props,s=n.reset,l=n.handleClose;clearTimeout(this.tmr),this.tmr=setTimeout((function(){s(),this.tmr=null,l(),window.location.href="/user-list"}),2e3)}}},{key:"render",value:function(){var e=this,t=this.props.show?"modal-b display-modal-block":"modal-b display-modal-none";return s.a.createElement("div",{className:t},s.a.createElement("section",{className:"modal-article"},s.a.createElement("div",{className:"create-modal-header txt-20 justify-left col-white"},"Delete User"),s.a.createElement("div",{className:"pt-30 pb-30 txt-18 justify-center"},"Do you want to delete this user really?"),s.a.createElement("div",{className:"flex-grid2 modal-grid2-gaps modal-p"},s.a.createElement("div",{className:"btn-common mouse-cursor justify-center col-white",onClick:this.Cancel},"Cancel"),s.a.createElement("div",{className:"btn-common mouse-cursor justify-center col-white",onClick:function(){return e.onDelete(e.props.id)}},"Delete"))))}}]),a}(n.Component),J=Object(l.b)((function(e){return{msg_user_delete:e.users.msg_user_delete}}),{reset:U,deleteUser:function(e){return function(t){console.log("delete Data = ",e),t({type:m,payload:!0}),C.a.post(S+"/api/users/delete-user",e).then((function(e){t({type:m,payload:!1}),t({type:"DELETE_USER",payload:e.data.msg})})).catch((function(e){t({type:m,payload:!1}),t({type:"DELETE_USER",payload:e.response?e.response.data.msg:{error:"error"}})}))}}})(Z),q=a(91),W=a.n(q),Q=(a(130),function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).Cancel=function(){(0,n.props.handleClose)(),n.setState({paid_amount:"",detail:"",paid_date:new Date})},n.onPaymentUpdate=function(){var e={role_id:localStorage.id,publisher_id:n.props.item._id,paid_amount:n.state.paid_amount,comments:n.state.detail,paid_date:n.state.paid_date};(0,n.props.updatePaid)(e),console.log(e)},n.onChange=function(e){n.setState(Object(k.a)({},e.target.id,e.target.value||0))},n.tmr=null,n.state={paid_amount:"",detail:"",paid_date:new Date},n}return Object(E.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){if(this.props.msg_paid&&e.msg_paid!==this.props.msg_paid){Object(O.b)(this.props.msg_paid);var n=this.props,s=n.resetManagement,l=n.handleClose;clearTimeout(this.tmr),this.tmr=setTimeout((function(){s(),this.tmr=null,l(),window.location.href="/user-list"}),2e3),this.setState({paid_amount:"",detail:"",paid_date:new Date})}}},{key:"handleDate",value:function(e){this.setState({paid_date:e})}},{key:"render",value:function(){var e=this,t=this.props.show?"modal-b display-modal-block":"modal-b display-modal-none";return s.a.createElement("div",{className:t},s.a.createElement("div",{className:"spinning-curtain",style:{display:this.props.spinning?"flex":"none"}},s.a.createElement("div",{className:"lds-dual-ring"})),s.a.createElement(O.a,null),s.a.createElement("section",{className:"modal-article"},s.a.createElement("div",{className:"create-modal-header txt-20 justify-left col-white"},"Payment"),s.a.createElement("div",{className:"txt-16",style:{padding:30}},s.a.createElement("div",{className:"pb-10"},"Payment Amount"),s.a.createElement("div",null,s.a.createElement("input",{id:"paid_amount",type:"Number",className:"price-paid",value:this.state.paid_amount,onChange:function(t){return e.onChange(t)}})),s.a.createElement("div",{className:"pt-20 pb-10"},"Paid Date"),s.a.createElement("div",null,s.a.createElement(W.a,{id:"paid_date",type:"datetime-local",showTimeSelect:!0,dateFormat:"MMMM d, yyyy h:mm aa",className:"price-paid",selected:this.state.paid_date,maxDate:(new Date).getTime(),timeIntervals:"20",onChange:function(t){return e.handleDate(t)}})),s.a.createElement("div",{className:"pt-20 pb-10"},"Payment Comments"),s.a.createElement("textarea",{id:"detail",value:this.state.detail,className:"payment-detail",onChange:function(t){return e.onChange(t)}})),s.a.createElement("div",{className:"flex-grid2 modal-grid2-gaps modal-p"},s.a.createElement("div",{className:"btn-common mouse-cursor justify-center col-white",onClick:this.Cancel},"Cancel"),s.a.createElement("div",{className:"btn-common mouse-cursor justify-center col-white",onClick:this.onPaymentUpdate},"Ok"))))}}]),a}(n.Component)),X=Object(l.b)((function(e){return{spinning:e.users.spinning,msg_paid:e.users.msg_paid}}),{resetManagement:Y,updatePaid:z})(Q),$=a(32),ee=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(_.a)(this,n),(a=t.call(this,e)).onUserList=function(){var e=a.props.getUserList;e&&e({role_id:localStorage.id,current_page:a.state.current_page,page_neighbours:a.state.page_neighbours,pagination:a.state.pagination})},a.onPageClick=function(e){a.setState({current_page:e});var t=a.props.getUserList,n={role_id:localStorage.id,current_page:e,page_neighbours:a.state.page_neighbours,pagination:a.state.pagination};t&&t(n),window.scrollTo(0,0)},a.onEdit=function(e){a.props.history.push("/add-user/"+e)},a.showModal=function(e){a.setState({delete_id:e,show:!0})},a.hideModal=function(){a.setState({show:!1})},a.showPaymentModal=function(e){a.setState({showPayment:!0,payment_item:e})},a.hidePaymentModal=function(){a.setState({showPayment:!1,payment_item:""})},a.onView=function(e){a.props.history.push("/publisher/albums/"+e)},a.onChange=function(e){a.setState(Object(k.a)({},e.target.id,e.target.value||0))},a.onSearchKeyUp=function(e){13===e&&a.onSearchUser()},a.onSearchUser=function(){if(""===a.state.user_name)a.onPageClick(1);else{var e=a.props.searchFilterUsers;e&&e({role:localStorage.getItem("role"),user_name:a.state.user_name})}},a.state={getUser_list:"",current_page:1,page_neighbours:2,pagination:10,page_num:"",delete_id:"",show:!1,flag_edit:!1,paid_amount:"",user_id:"",showPayment:!1,payment_item:"",user_name:""},a}return Object(E.a)(n,[{key:"componentDidMount",value:function(){localStorage.id||(window.location.href="/login"),this.onUserList()}},{key:"componentDidUpdate",value:function(e,t,a){if(this.props.getUser_list&&this.props.getUser_list!==e.getUser_list&&this.setState({getUser_list:this.props.getUser_list.list,page_num:this.props.getUser_list.page_num}),this.props.msg_get_users&&this.props.msg_get_users!==e.msg_get_users){Object(O.b)(this.props.msg_get_users);var n=this.props.reset;clearTimeout(this.tmr),this.tmr=setTimeout((function(){n(),this.tmr=null}),2e3)}if(this.props.get_search_users&&this.props.get_search_users!==e.get_search_users&&this.setState({getUser_list:this.props.get_search_users,current_page:1,page_neighbours:2,pagination:10,page_num:"",delete_id:"",show:!1,flag_edit:!1,paid_amount:"",user_id:"",showPayment:!1,payment_item:""}),this.props.msg_user&&this.props.msg_user!==e.msg_user){Object(O.b)(this.props.msg_user);var s=this.props.reset;clearTimeout(this.tmr),this.tmr=setTimeout((function(){s(),this.tmr=null}),2e3)}}},{key:"render",value:function(){var e=this,t=[];if(this.state.page_num)for(var n=this.state.page_num.start_page;n<=this.state.page_num.end_page;n++)t.push(n);return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"spinning-curtain",style:{display:this.props.spinning?"flex":"none"}},s.a.createElement("div",{className:"lds-dual-ring"})),s.a.createElement(O.a,null),s.a.createElement("div",{className:"col-darkBlue txt-30 txt-bold pb-20 pl-40"},"User List"),s.a.createElement("div",{className:"form-bg"},s.a.createElement("div",{className:"justify-left user-search"},s.a.createElement("div",{className:"mr-id-10"},s.a.createElement("input",{id:"album_id",className:"count mouse-cursor",placeholder:"Please input user name",value:this.state.user_name,onChange:function(t){return e.setState({user_name:t.target.value})},onKeyUp:function(t){return e.onSearchKeyUp(t.keyCode)}})),s.a.createElement("div",{className:"btn-common user-search mouse-cursor col-white",onClick:this.onSearchUser},"Search")),s.a.createElement("div",{className:"table-p"},s.a.createElement("table",{className:"tList"},s.a.createElement("thead",null,s.a.createElement("tr",{className:"table-list"},s.a.createElement("th",null,"No"),s.a.createElement("th",null,"Name"),s.a.createElement("th",null,"Phone"),s.a.createElement("th",null,"Email"),s.a.createElement("th",null,"Country"),s.a.createElement("th",null,"Bank Info"),s.a.createElement("th",null,"Registered"),s.a.createElement("th",null,"Paid"),s.a.createElement("th",null,"Owed"),s.a.createElement("th",null,"Total"),s.a.createElement("th",null,"Action"))),s.a.createElement("tbody",null,this.state.getUser_list&&this.state.getUser_list.map((function(t,n){return s.a.createElement("tr",{key:n,className:"table-list"},s.a.createElement("td",null,n+1),s.a.createElement("td",null,t.name),s.a.createElement("td",null,t.phone),s.a.createElement("td",null,t.email),s.a.createElement("td",null,t.country),s.a.createElement("td",null,t.bank_info),s.a.createElement("td",null,new Date(t.registered_date).toLocaleString([],{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"})),s.a.createElement("td",null,s.a.createElement("div",null,(t.current_paid?t.current_paid:0)+(e.state.flag_edit===t.name?" + ":"")+(t.currency?t.currency:""))),s.a.createElement("td",{className:"col-paragraphBg txt-bold"},(t.owed_amount?t.owed_amount:0)+(t.currency?t.currency:$.SYMBOL[0])),s.a.createElement("td",null,(t.total_amount?t.total_amount:0)+(t.currency?t.currency:$.SYMBOL[0])),s.a.createElement("td",{className:"flex-common"},s.a.createElement("div",{className:"mr-10 mouse-cursor icon-flex tooltip",onClick:function(){return e.showPaymentModal(t)}},s.a.createElement("img",{className:"icon-size",src:a(55),alt:""}),s.a.createElement("span",{className:"tooltiptext"},"Edit the current payment")),s.a.createElement("div",{className:"mr-10 mouse-cursor icon-flex tooltip",onClick:function(a){return e.onView(t._id)}},s.a.createElement("img",{className:"icon-size",src:a(37),alt:""}),s.a.createElement("span",{className:"tooltiptext"},"View the album list and payment history")),s.a.createElement("div",{className:"mr-10 mouse-cursor icon-flex tooltip",onClick:function(a){return e.onEdit(t._id)}},s.a.createElement("img",{className:"icon-size",src:a(187),alt:""}),s.a.createElement("span",{className:"tooltiptext"},"Edit the publisher profile")),s.a.createElement("div",{className:"mouse-cursor icon-flex tooltip",onClick:function(a){return e.showModal(t._id)}},s.a.createElement("img",{className:"icon-size",src:a(87),alt:""}),s.a.createElement("span",{className:"tooltiptext"},"Delete the publisher"))))}))))),s.a.createElement("div",{className:"help-center-align"},s.a.createElement("div",{className:"product-btn justify-center",onClick:function(){return e.onPageClick(1)}},s.a.createElement("svg",{width:"11",height:"15",viewBox:"0 0 11 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("path",{d:"M9.60496 14.6383C9.42024 14.6383 9.23359 14.5779 9.07773 14.457L0.923018 8.02084C0.724826 7.86414 0.609375 7.62814 0.609375 7.37704C0.609375 7.12782 0.724826 6.88993 0.923018 6.73512L9.0431 0.332906C9.40485 0.047818 9.934 0.104458 10.2246 0.459402C10.5151 0.814346 10.4574 1.33355 10.0956 1.61863L2.79141 7.37704L10.1322 13.1713C10.4939 13.4564 10.5517 13.9756 10.2611 14.3305C10.0937 14.5326 9.85126 14.6383 9.60496 14.6383Z",fill:"black",fillOpacity:"0.65"}))),this.state.page_num&&t&&t.map((function(t,a){return s.a.createElement("div",{className:e.state.current_page&&e.state.current_page===t?"product-btn justify-center btn-search":"product-btn justify-center col-darkBlue",key:a,onClick:function(){return e.onPageClick(t)}},t)})),s.a.createElement("div",{className:"product-btn justify-center",onClick:function(){return e.onPageClick(e.state.page_num.total_page)}},s.a.createElement("svg",{width:"11",height:"15",viewBox:"0 0 11 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("path",{d:"M1.39506 14.6383C1.57978 14.6383 1.76643 14.5779 1.92229 14.457L10.077 8.02084C10.2752 7.86414 10.3906 7.62814 10.3906 7.37704C10.3906 7.12782 10.2752 6.88993 10.077 6.73512L1.95692 0.332906C1.59518 0.047818 1.06603 0.104458 0.775474 0.459402C0.484922 0.814346 0.542647 1.33355 0.904394 1.61863L8.2086 7.37704L0.867834 13.1713C0.506087 13.4564 0.448362 13.9756 0.738914 14.3305C0.906319 14.5326 1.14877 14.6383 1.39506 14.6383Z",fill:"black",fillOpacity:"0.65"}))))),s.a.createElement(J,{show:this.state.show,id:this.state.delete_id,handleClose:this.hideModal}),s.a.createElement(X,{show:this.state.showPayment,handleClose:this.hidePaymentModal,item:this.state.payment_item}))}}]),n}(n.Component),te=Object(l.b)((function(e){return{spinning:e.users.spinning,getUser_list:e.users.getUser_list,msg_get_users:e.users.msg_get_users,msg_paid:e.users.msg_paid,get_search_users:e.users.get_search_users,msg_user:e.users.msg_user}}),{reset:U,getUserList:function(e){return function(t){console.log(e),t({type:m,payload:!0}),C.a.post(S+"/api/users/get-users",e).then((function(e){t({type:m,payload:!1}),t({type:"GET_USERS",payload:e.data.results})})).catch((function(e){t({type:m,payload:!1}),t({type:"GET_USER_ERROR",payload:e.response?e.response.data.msg:{error:"error"}})}))}},resetManagement:Y,updatePaid:z,searchFilterUsers:function(e){return function(t){t({type:m,payload:!0}),C.a.post(S+"/api/users/search",e).then((function(e){t({type:m,payload:!1}),t({type:"GET_SEARCH_USERS",payload:e.data.list})})).catch((function(e){t({type:m,payload:!1}),t({type:"ERROR_USER",payload:e&&e.response&&e.response.data&&e.response.data.msg})}))}}})(ee),ae=a(45),ne=function(){return function(e){e({type:"ERROR_ALBUM_LIST",payload:""}),e({type:"ADD_ALBUM",payload:""}),e({type:"DELETE_ALBUM",payload:""}),e({type:"ERROR_ALBUM_BYID",payload:""})}},se=function(){return function(e){e({type:"ERROR_REGISTERED_ALBUM_LIST",payload:""}),e({type:"ASSIGN_ALBUMS",payload:""}),e({type:"ERROR_ASSIGN_ALBUMS",payload:""})}},le=function(e){return function(t){t({type:m,payload:!0}),C.a.post(S+"/api/albums/get-assigned-albums",e).then((function(e){t({type:m,payload:!1}),t({type:"GET_REGISTERED_ALBUMS",payload:e.data.results})})).catch((function(e){t({type:m,payload:!1}),t({type:"ERROR_REGISTERED_ALBUM_LIST",payload:e.response?e.response.data.msg:{error:"error"}})}))}},re=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(_.a)(this,a);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))).Cancel=function(){(0,e.props.handleClose)()},e.onDelete=function(t){if(!1===e.props.flag){var a={role_id:localStorage.id,albums:t};(0,e.props.deleteAlbum)(a)}else{var n={role_id:localStorage.id,id:e.props.id,tracks:t};(0,e.props.deleteTrack)(n)}},e}return Object(E.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){if(this.props.msg_album_delete&&e.msg_album_delete!==this.props.msg_album_delete){Object(O.b)(this.props.msg_album_delete);var n=this.props,s=n.reset,l=n.handleClose,r=this;clearTimeout(r.tmr),this.tmr=setTimeout((function(){s(),r.tmr=null,l(),window.location.href=r.props.path}),2e3)}}},{key:"render",value:function(){var e=this,t=this.props.show?"modal-b display-modal-block":"modal-b display-modal-none";return s.a.createElement("div",{className:t},s.a.createElement("section",{className:"modal-article"},s.a.createElement("div",{className:"create-modal-header txt-20 justify-left col-white"},"Cancel ",this.props.flag?"Track ":"Album "," Registration"),s.a.createElement("div",{className:"pt-30 pb-30 txt-18 justify-center"},"Would you like to unregister these ",this.props.flag?"tracks":"albums","?"),s.a.createElement("div",{className:"flex-grid2 modal-grid2-gaps modal-p"},s.a.createElement("div",{className:"btn-common mouse-cursor justify-center col-white",onClick:this.Cancel},"Cancel"),s.a.createElement("div",{className:"btn-common mouse-cursor justify-center col-white",onClick:function(){return e.onDelete(e.props.albums)}},"Unregister"))))}}]),a}(n.Component),ie=Object(l.b)((function(e){return{msg_album_delete:e.users.msg_album_delete}}),{reset:ne,deleteAlbum:function(e){return function(t){t({type:m,payload:!0}),C.a.post(S+"/api/albums/delete-album",e).then((function(e){t({type:m,payload:!1}),t({type:"DELETE_ALBUM",payload:e.data.msg})})).catch((function(e){t({type:m,payload:!1}),t({type:"DELETE_ALBUM",payload:e.response?e.response.data.msg:{error:"error"}})}))}},deleteTrack:function(e){return function(t){t({type:m,payload:!0}),C.a.post(S+"/api/albums/delete-track",e).then((function(e){t({type:m,payload:!1}),t({type:"DELETE_ALBUM",payload:e.data.msg})})).catch((function(e){t({type:m,payload:!1}),t({type:"DELETE_ALBUM",payload:e.response?e.response.data.msg:{error:"error"}})}))}}})(re),oe=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(_.a)(this,n),(a=t.call(this,e)).getDataFromSite=function(){var e="https://jewishmusic.fm/jmusic/albums/get_all_albums?page="+a.state.current_page+"&count="+a.state.pagination+"&lang="+a.state.language,t=a.props.getAlbumListFromSite;t&&t({role_id:localStorage.id,link:e})},a.onCount=function(e){a.setState({pagination:e.target.value,allChecked:!1,new_checked:[]})},a.onLanguage=function(e){a.setState({language:e.target.value,allChecked:!1,new_checked:[]})},a.onPageClick=function(e){a.setState({current_page:e,action_flag:!0,new_checked:[],allChecked:!1}),a.onCalcPageArray(e)},a.onCalcPageArray=function(e){for(var t=e,n=a.state.page_neighbours,s=a.state.total_page,l=Math.max(1,t-n),r=Math.min(s,t+n),i=[],o=l;o<=r;o++)i.push(o);a.setState({pageArray:i})},a.onInitial=function(){a.setState({album_list:[],new_checked:[],show:!1,allChecked:!1,delete_album_id:"",action_flag:!0,album_id:"",flag_input:!1,get_album:"",current_page:1,language:"en",page_neighbours:3,pagination:10,page_num:"",pageArray:[1,2,3,4],total_page:100})},a.onAddAlbum=function(){if(!1===a.state.flag_input){var e=a.props.addAlbumFromSite;if(e)e({role_id:localStorage.id,id:a.state.new_checked,lang:a.state.language})}else{var t=a.props.addTrackFromSite;if(t){for(var n=a.state.get_album.tracks,s=a.state.new_checked,l=[],r=0;r<s.length;r++)for(var i=0;i<n.length;i++)s[r]===n[i].url&&l.push({download:n[i].download,title:n[i].title,url:n[i].url});t({role_id:localStorage.id,album:a.state.get_album,tracks_url:a.state.new_checked,tracks:l,lang:a.state.language})}}a.setState({new_checked:[],allChecked:!1})},a.onShowDeleteModal=function(){a.setState({show:!0,delete_album_id:a.state.new_checked})},a.hideDeleteModal=function(){a.setState({show:!1,new_checked:[],allChecked:!1})},a.onCheckBox=function(e){var t=a.state.new_checked,n=JSON.parse(JSON.stringify(t));!0===e.target.checked?n.push(e.target.id):n.splice(n.indexOf(e.target.id),1),a.setState({new_checked:n})},a.onActionClick=function(){a.setState({action_flag:!a.state.action_flag,new_checked:[],allChecked:!1})},a.onAllCheck=function(){a.setState({allChecked:!a.state.allChecked,new_checked:[]})},a.onAlbumId=function(e){a.setState(Object(k.a)({},e.target.id,e.target.value||""))},a.onInputAlbumId=function(e){13===e&&(""!==a.state.album_id?(a.setState({flag_input:!0}),a.getByAlbumId()):a.setState({flag_input:!1,get_album:""}),a.setState({new_checked:[],allChecked:!1}))},a.getByAlbumId=function(){var e=a.props.getAlbumByIdFromSite;e&&e({role_id:localStorage.id,id:a.state.album_id,lang:a.state.language})},a.onBack=function(){a.setState({flag_input:!1})},a.tmr=null,a.state={album_list:[],new_checked:[],show:!1,allChecked:!1,delete_album_id:"",action_flag:!0,album_id:"",flag_input:!1,get_album:"",current_page:1,language:"en",page_neighbours:3,pagination:10,page_num:"",pageArray:[1,2,3,4],total_page:100},a.onCheckBox=a.onCheckBox.bind(Object(ae.a)(a)),a.onAllCheck=a.onAllCheck.bind(Object(ae.a)(a)),a}return Object(E.a)(n,[{key:"componentDidMount",value:function(){this.onInitial(),this.getDataFromSite()}},{key:"componentDidUpdate",value:function(e,t,a){var n=this;if(this.props.get_album_list&&this.props.get_album_list!==e.get_album_list&&this.setState({album_list:this.props.get_album_list}),this.props.msg_album_list_error&&this.props.msg_album_list_error!==e.msg_album_list_error){Object(O.b)(this.props.msg_album_list_error);var s=this.props.reset;clearTimeout(this.tmr),this.tmr=setTimeout((function(){s(),this.tmr=null}),2e3)}if(this.state.current_page===t.current_page&&this.state.language===t.language&&this.state.pagination===t.pagination||this.state.flag_input||this.getDataFromSite(),this.props.msg_create_album&&this.props.msg_create_album!==e.msg_create_album){Object(O.b)(this.props.msg_create_album);var l=this.props.reset;clearTimeout(this.tmr),this.tmr=setTimeout((function(){l(),this.tmr=null}),2e3),this.state.flag_input?this.getByAlbumId():this.getDataFromSite()}if(this.state.allChecked!==t.allChecked){var r=[];if(!0===this.state.allChecked){if(!1===this.state.flag_input){var i=this.state.album_list;Object.keys(i).map((function(e,t){return n.state.action_flag||1!==i[t].state?n.state.action_flag&&1!==i[t].state&&r.push(i[t].id.toString()):r.push(i[t].id.toString()),null}))}else{var o=this.state.get_album&&this.state.get_album.tracks;Object.keys(o).map((function(e,t){return n.state.action_flag||1!==o[t].state?n.state.action_flag&&1!==o[t].state&&r.push(o[t].url.toString()):r.push(o[t].url.toString()),null}))}this.setState({new_checked:r})}}if(this.state.new_checked!==t.new_checked){var c=[];if(!1===this.state.flag_input){var u=this.state.album_list;Object.keys(u).map((function(e,t){return n.state.action_flag||1!==u[t].state?n.state.action_flag&&1!==u[t].state&&c.push(u[t].id.toString()):c.push(u[t].id.toString()),null}))}else{var m=this.state.get_album&&this.state.get_album.tracks;Object.keys(m).map((function(e,t){return n.state.action_flag||1!==m[t].state?n.state.action_flag&&1!==m[t].state&&c.push(m[t].url.toString()):c.push(m[t].url.toString()),null}))}this.state.new_checked.length>0&&this.state.new_checked.length===c.length?this.setState({allChecked:!0}):this.setState({allChecked:!1})}if(this.props.msg_album_byId&&this.props.msg_album_byId!==e.msg_album_byId){Object(O.b)(this.props.msg_album_byId);var p=this.props.reset;clearTimeout(this.tmr),this.tmr=setTimeout((function(){p(),this.tmr=null}),2e3)}this.props.get_album_byId&&this.props.get_album_byId!==e.get_album_byId&&this.setState({get_album:this.props.get_album_byId}),this.state.language!==t.language&&this.state.flag_input&&this.getByAlbumId()}},{key:"render",value:function(){var e=this,t=this.state.album_list;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"spinning-curtain",style:{display:this.props.spinning?"flex":"none"}},s.a.createElement("div",{className:"lds-dual-ring"})),s.a.createElement(O.a,null),s.a.createElement("div",{className:"col-darkBlue txt-30 txt-bold pb-20 pl-40"},this.state.flag_input?"Track List":"Album List"),s.a.createElement("div",{className:"form-bg"},s.a.createElement("div",{className:"flex-space album-list"},s.a.createElement("div",{className:"justify-left add-album"},!this.state.flag_input&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"justify-center col-buttonAndLink"},"Counts"),s.a.createElement("div",null,s.a.createElement("select",{className:"count mouse-cursor",onChange:this.onCount},[10,15,25,50].map((function(e,t){return s.a.createElement("option",{key:t,value:e},e)}))))),s.a.createElement("div",{className:"justify-center col-buttonAndLink ml-40"},"Language"),s.a.createElement("div",null,s.a.createElement("select",{className:"count mouse-cursor",style:{marginLeft:20,marginRight:20},value:this.state.language,onChange:function(t){return e.onLanguage(t)}},s.a.createElement("option",{key:"1",value:"en"},"English"),s.a.createElement("option",{key:"2",value:"he"},"Hebrew"))),s.a.createElement("div",{className:"justify-center col-buttonAndLink ml-40",style:{marginRight:10}},"Album ID"),s.a.createElement("div",{className:"mr-id-10"},s.a.createElement("input",{id:"album_id",className:"count mouse-cursor",placeholder:"Album Id for registration.",value:this.state.album_id,onChange:function(t){return e.onAlbumId(t)},onKeyUp:function(t){return e.onInputAlbumId(t.keyCode)}}))),this.state.flag_input&&s.a.createElement("div",{className:"btn-common action mouse-cursor col-white mr-id-10",onClick:this.onBack},"Back"),this.state.action_flag?s.a.createElement("div",{className:"btn-common action mouse-cursor col-white",onClick:this.onAddAlbum},"Register"):s.a.createElement("div",{className:"btn-common action mouse-cursor col-white",onClick:this.onShowDeleteModal},"Unregister")),this.state.flag_input?s.a.createElement(s.a.Fragment,null,this.state.get_album&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"flex-grid2 album-grid"},s.a.createElement("div",{className:"album-grid-mt"},s.a.createElement("img",{className:"album-img mouse-cursor",src:this.state.get_album.thumbnail_images.full.url,onClick:function(){return window.location=e.state.get_album.buttons},alt:""})),s.a.createElement("div",{className:"album-grid-mt justify-center col-darkBlue"},s.a.createElement("div",null,s.a.createElement("div",{className:"justify-center"},s.a.createElement("img",{className:"album-thumbnail-img mouse-cursor",src:this.state.get_album.thumbnail,onClick:function(){return window.location=e.state.get_album.buttons},alt:""})),s.a.createElement("div",{className:"pt-10 justify-center txt-bold txt-20"},"Title:"),s.a.createElement("div",{className:"justify-center"},s.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.get_album.title}})),s.a.createElement("div",{className:"pt-10 justify-center txt-bold txt-20"},"Articles:"),s.a.createElement("table",{className:"tList"},s.a.createElement("thead",null,s.a.createElement("tr",{className:"table-list album"},s.a.createElement("th",null,"No"),s.a.createElement("th",null,"Id"),s.a.createElement("th",null,"Name"))),s.a.createElement("tbody",null,this.state.get_album.taxonomy_artists.map((function(e,t){return s.a.createElement("tr",{key:t,className:"table-list album"},s.a.createElement("td",null,t+1),s.a.createElement("td",null,e.id),s.a.createElement("td",null,s.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.title}})))}))))))),s.a.createElement("div",null,s.a.createElement("div",{className:"pt-30 pb-10 justify-center col-paragraphBg txt-20"},"Tracks")),s.a.createElement("div",{className:"table-p"},s.a.createElement("table",{className:"tList"},s.a.createElement("thead",null,s.a.createElement("tr",{className:"table-list album"},s.a.createElement("th",null,"No"),s.a.createElement("th",null,"Title"),s.a.createElement("th",null,"Url"),s.a.createElement("th",null,"Download"),s.a.createElement("th",null,this.state.action_flag?s.a.createElement("div",{className:"justify-left",style:{paddingTop:13}},s.a.createElement("label",{className:"container-event justify-left"},s.a.createElement("div",{className:"col-paragraphBg",onClick:this.onActionClick},"Register"),s.a.createElement("input",{type:"checkbox",checked:this.state.allChecked,onChange:this.onAllCheck}),s.a.createElement("span",{className:"checkMark"}))):s.a.createElement("div",{className:"justify-left",style:{paddingTop:13}},s.a.createElement("label",{className:"container-event justify-left"},s.a.createElement("div",{className:"col-paragraphBg",onClick:this.onActionClick},"Unregister"),s.a.createElement("input",{type:"checkbox",checked:this.state.allChecked,onChange:this.onAllCheck}),s.a.createElement("span",{className:"checkMark"})))))),s.a.createElement("tbody",null,this.state.get_album.tracks.map((function(t,a){return console.log(t," = item"),s.a.createElement("tr",{key:a,className:"table-list album"},s.a.createElement("td",null,a+1),s.a.createElement("td",null,s.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.title}})),s.a.createElement("td",null,t.url),s.a.createElement("td",null,""===t.download?0:t.download),s.a.createElement("td",null,!e.state.action_flag&&1===t.state&&s.a.createElement("label",{className:"container-event",key:a},s.a.createElement("input",{id:t.url,type:"checkbox",checked:e.state.new_checked.includes(t.url.toString()),onChange:function(t){return e.onCheckBox(t)}}),s.a.createElement("span",{className:"checkMark"})),e.state.action_flag&&1!==t.state&&s.a.createElement("label",{className:"container-event",key:a},s.a.createElement("input",{id:t.url,type:"checkbox",checked:e.state.new_checked.includes(t.url.toString()),onChange:function(t){return e.onCheckBox(t)}}),s.a.createElement("span",{className:"checkMark"}))))}))))))):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"table-p"},s.a.createElement("table",{className:"tList"},s.a.createElement("thead",null,s.a.createElement("tr",{className:"table-list"},s.a.createElement("th",null,"No"),s.a.createElement("th",null,"ID"),s.a.createElement("th",null,"Name"),s.a.createElement("th",null,"Date"),s.a.createElement("th",null,"Image"),s.a.createElement("th",null,"State"),s.a.createElement("th",{className:"mouse-cursor"},this.state.action_flag?s.a.createElement("div",{className:"justify-left",style:{paddingTop:13}},s.a.createElement("label",{className:"container-event justify-left"},s.a.createElement("div",{className:"col-paragraphBg",onClick:this.onActionClick},"Register"),s.a.createElement("input",{type:"checkbox",checked:this.state.allChecked,onChange:this.onAllCheck}),s.a.createElement("span",{className:"checkMark"}))):s.a.createElement("div",{className:"justify-left",style:{paddingTop:13}},s.a.createElement("label",{className:"container-event justify-left"},s.a.createElement("div",{className:"col-paragraphBg",onClick:this.onActionClick},"Unregister"),s.a.createElement("input",{type:"checkbox",checked:this.state.allChecked,onChange:this.onAllCheck}),s.a.createElement("span",{className:"checkMark"})))))),s.a.createElement("tbody",null,this.state.album_list&&Object.keys(this.state.album_list).map((function(n,l){return s.a.createElement("tr",{key:l},s.a.createElement("td",{style:{paddingLeft:20}},l+1),s.a.createElement("td",null,t[l].id),s.a.createElement("td",null,s.a.createElement("div",{dangerouslySetInnerHTML:{__html:t[l].title}})),s.a.createElement("td",null,new Date(t[l].date).toLocaleString([],{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"})),s.a.createElement("td",null,t[l].thumbnail&&s.a.createElement("img",{className:"thumbnail-size",src:t[l].thumbnail,alt:""})),s.a.createElement("td",{className:"flex-common"},1===t[l].state?s.a.createElement("div",{className:"icon-flex tooltip"},s.a.createElement("img",{className:"icon-size",src:a(87),alt:"View"}),s.a.createElement("span",{className:"tooltiptext"},"The registered Album")):s.a.createElement("div",{className:"icon-flex tooltip"},s.a.createElement("img",{className:"icon-size",src:a(188),alt:"Edit"}),s.a.createElement("span",{className:"tooltiptext"},"Add the Album"))),s.a.createElement("td",null,!e.state.action_flag&&1===t[l].state&&s.a.createElement("label",{className:"container-event",key:l},s.a.createElement("input",{id:t[l].id,type:"checkbox",checked:e.state.new_checked.includes(t[l].id.toString()),onChange:function(t){return e.onCheckBox(t)}}),s.a.createElement("span",{className:"checkMark"})),e.state.action_flag&&1!==t[l].state&&s.a.createElement("label",{className:"container-event",key:l},s.a.createElement("input",{id:t[l].id,type:"checkbox",checked:e.state.new_checked.includes(t[l].id.toString()),onChange:function(t){return e.onCheckBox(t)}}),s.a.createElement("span",{className:"checkMark"}))))}))))),s.a.createElement("div",{className:"help-center-align"},s.a.createElement("div",{className:"product-btn justify-center",onClick:function(){return e.onPageClick(1)}},s.a.createElement("svg",{width:"11",height:"15",viewBox:"0 0 11 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("path",{d:"M9.60496 14.6383C9.42024 14.6383 9.23359 14.5779 9.07773 14.457L0.923018 8.02084C0.724826 7.86414 0.609375 7.62814 0.609375 7.37704C0.609375 7.12782 0.724826 6.88993 0.923018 6.73512L9.0431 0.332906C9.40485 0.047818 9.934 0.104458 10.2246 0.459402C10.5151 0.814346 10.4574 1.33355 10.0956 1.61863L2.79141 7.37704L10.1322 13.1713C10.4939 13.4564 10.5517 13.9756 10.2611 14.3305C10.0937 14.5326 9.85126 14.6383 9.60496 14.6383Z",fill:"black",fillOpacity:"0.65"}))),this.state.pageArray&&this.state.pageArray.map((function(t,a){return s.a.createElement("div",{className:e.state.current_page&&e.state.current_page===t?"product-btn justify-center btn-search":"product-btn justify-center col-darkBlue",key:a,onClick:function(){return e.onPageClick(t)}},t)})),s.a.createElement("div",{className:"product-btn justify-center",onClick:function(){return e.onPageClick(e.state.total_page)}},s.a.createElement("svg",{width:"11",height:"15",viewBox:"0 0 11 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("path",{d:"M1.39506 14.6383C1.57978 14.6383 1.76643 14.5779 1.92229 14.457L10.077 8.02084C10.2752 7.86414 10.3906 7.62814 10.3906 7.37704C10.3906 7.12782 10.2752 6.88993 10.077 6.73512L1.95692 0.332906C1.59518 0.047818 1.06603 0.104458 0.775474 0.459402C0.484922 0.814346 0.542647 1.33355 0.904394 1.61863L8.2086 7.37704L0.867834 13.1713C0.506087 13.4564 0.448362 13.9756 0.738914 14.3305C0.906319 14.5326 1.14877 14.6383 1.39506 14.6383Z",fill:"black",fillOpacity:"0.65"})))))),this.state.flag_input?s.a.createElement(ie,{show:this.state.show,handleClose:this.hideDeleteModal,lang:this.state.language,albums:this.state.delete_album_id,flag:this.state.flag_input,id:this.state.album_id,path:"/add-album"}):s.a.createElement(ie,{show:this.state.show,handleClose:this.hideDeleteModal,lang:this.state.language,albums:this.state.delete_album_id,flag:this.state.flag_input,path:"/add-album"}))}}]),n}(n.Component),ce=Object(l.b)((function(e){return{spinning:e.users.spinning,get_album_list:e.users.get_album_list,msg_album_list_error:e.users.msg_album_list_error,msg_create_album:e.users.msg_create_album,get_album_byId:e.users.get_album_byId,msg_album_byId:e.users.msg_album_byId}}),{reset:ne,getAlbumListFromSite:function(e){return function(t){t({type:m,payload:!0}),C.a.post(S+"/api/albums/get-albums-jewishmusic",e).then((function(e){t({type:m,payload:!1}),t({type:"GET_EXISTING_ALBUM",payload:e.data.results})})).catch((function(e){t({type:m,payload:!1}),t({type:"ERROR_ALBUM_LIST",payload:e.response?e.response.data.msg:{error:"error"}})}))}},addAlbumFromSite:function(e){return function(t){t({type:m,payload:!0}),C.a.post(S+"/api/albums/add-album",e).then((function(e){t({type:m,payload:!1}),t({type:"ADD_ALBUM",payload:e.data.msg})})).catch((function(e){t({type:m,payload:!1}),t({type:"ADD_ALBUM",payload:e.response?e.response.data.msg:{error:"error"}})}))}},getAlbumByIdFromSite:function(e){return function(t){t({type:m,payload:!0}),C.a.post(S+"/api/albums/get-byid-jewishmusic",e).then((function(e){t({type:m,payload:!1}),t({type:"GET_ALBUM_BYID",payload:e.data.results})})).catch((function(e){t({type:m,payload:!1}),t({type:"ERROR_ALBUM_BYID",payload:e.response?e.response.data.msg:{error:"error"}})}))}},addTrackFromSite:function(e){return function(t){t({type:m,payload:!0}),C.a.post(S+"/api/albums/add-track",e).then((function(e){t({type:m,payload:!1}),t({type:"ADD_ALBUM",payload:e.data.msg})})).catch((function(e){t({type:m,payload:!1}),t({type:"ADD_ALBUM",payload:e.response?e.response.data.msg:{error:"error"}})}))}}})(oe),ue=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).onPageClick=function(e){n.setState({current_page:e});var t=n.props.getRegisteredAlbumList,a={role_id:localStorage.id,current_page:e,page_neighbours:n.state.page_neighbours,pagination:n.state.pagination};t&&t(a),n.setState({allChecked:!1,new_checked:[],album_ids:[]})},n.onSelectUser=function(e){"0"!==e.target.value?n.setState({user_id:e.target.value}):n.setState({user_id:""})},n.onCheckBox=function(e,t){var a=n.state,s=a.new_checked,l=a.album_ids,r=JSON.parse(JSON.stringify(s)),i=JSON.parse(JSON.stringify(l));!0===e.target.checked?(r.push(e.target.id),i.push(t)):(r.splice(r.indexOf(e.target.id),1),i.splice(i.indexOf(t),1)),n.setState({new_checked:r,album_ids:i})},n.onAllCheck=function(){n.setState({allChecked:!n.state.allChecked,new_checked:[],album_ids:[]})},n.onAssign=function(){var e=n.props.assignAlbumsToUser;e&&e({role_id:localStorage.id,publisher_id:n.state.user_id,new_checked:n.state.new_checked})},n.onShowDeleteModal=function(){n.state.album_ids.length>0&&n.setState({show:!0})},n.hideDeleteModal=function(){n.setState({user_id:"",allChecked:!1,new_checked:[],show:!1,album_ids:[]})},n.onAlbumId=function(e){n.setState(Object(k.a)({},e.target.id,e.target.value||""))},n.onInputAlbumId=function(e){if(13===e){if(""!==n.state.search_id){var t=n.props.searchRegisteredAlbum;t&&t({role_id:localStorage.getItem("id"),album_id:n.state.search_id})}else n.onPageClick(1);n.setState({show:!1,new_checked:[],album_ids:[],allChecked:!1})}},n.tmr=null,n.state={all_users:"",album_list:"",user_id:"",allChecked:!1,new_checked:[],show:!1,album_ids:[],search_id:"",current_page:1,page_neighbours:2,pagination:10,page_num:""},n}return Object(E.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.getAllUsers;e&&e({role_id:localStorage.id}),this.onPageClick(1)}},{key:"componentDidUpdate",value:function(e,t,a){if(this.props.get_registered_albums&&this.props.get_registered_albums!==e.get_registered_albums&&this.setState({album_list:this.props.get_registered_albums.list,page_num:this.props.get_registered_albums.page_num}),this.props.msg_registered_albums&&this.props.msg_registered_albums!==e.msg_registered_albums){Object(O.b)(this.props.msg_registered_albums);var n=this.props.resetList,s=this;clearTimeout(s.tmr),s.tmr=setTimeout((function(){n(),s.tmr=null,s.setState({search_id:""})}),3e3)}if(this.props.getAll_users&&this.props.getAll_users!==e.getAll_users&&this.setState({all_users:this.props.getAll_users}),this.props.msg_get_users!==e.msg_get_users){Object(O.b)(this.props.msg_get_users);var l=this.props.reset,r=this;clearTimeout(r.tmr),r.tmr=setTimeout((function(){l(),r.tmr=null}),3e3)}if(this.state.allChecked!==t.allChecked){var i=[],o=[];if(!0===this.state.allChecked){var c=this.state.album_list;Object.keys(c).map((function(e,t){return i.push(c[t]._id),o.push(c[t].album_id),null})),this.setState({new_checked:i,album_ids:o})}}if(this.state.new_checked!==t.new_checked){var u=[],m=this.state.album_list;Object.keys(m).map((function(e,t){return u.push(m[t]._id),null})),this.state.new_checked.length>0&&this.state.new_checked.length===u.length?this.setState({allChecked:!0}):this.setState({allChecked:!1})}if(this.props.msg_assign_albums&&this.props.msg_assign_albums!==e.msg_assign_albums){Object(O.b)(this.props.msg_assign_albums);var p=this.props.resetList;clearTimeout(this.tmr),this.tmr=setTimeout((function(){p(),this.tmr=null}),3e3),this.onPageClick(1)}if(this.props.msg_error_assign_albums&&this.props.msg_error_assign_albums!==e.msg_error_assign_albums){Object(O.b)(this.props.msg_error_assign_albums);var d=this.props.resetList;clearTimeout(this.tmr),this.tmr=setTimeout((function(){d(),this.tmr=null}),3e3)}}},{key:"render",value:function(){var e=this,t=[];if(this.state.page_num)for(var a=this.state.page_num.start_page;a<=this.state.page_num.end_page;a++)t.push(a);return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"spinning-curtain",style:{display:this.props.spinning?"flex":"none"}},s.a.createElement("div",{className:"lds-dual-ring"})),s.a.createElement(O.a,null),s.a.createElement("div",{className:"col-darkBlue txt-30 txt-bold pb-20 pl-40"},"Album list for assigning to a user"),s.a.createElement("div",{className:"form-bg"},s.a.createElement("div",{className:"flex-space assign-unregister"},s.a.createElement("div",{className:"justify-left publisher-album"},s.a.createElement("div",{className:"justify-left"},s.a.createElement("div",{className:"col-buttonAndLink"},"Publisher"),s.a.createElement("div",null,s.a.createElement("select",{className:"count publisher mouse-cursor",onChange:function(t){return e.onSelectUser(t)}},s.a.createElement("option",{key:"0",value:"0"},"None"),this.state.all_users&&this.state.all_users.map((function(e,t){return s.a.createElement("option",{key:t+1,value:e._id},e.name)}))))),s.a.createElement("div",{className:"justify-left mobile-mt"},s.a.createElement("div",{className:"justify-center col-buttonAndLink ml-40",style:{marginRight:10}},"Album ID"),s.a.createElement("div",{className:"mr-id-10"},s.a.createElement("input",{id:"search_id",className:"count mouse-cursor",placeholder:"Album Id",value:this.state.search_id,onChange:function(t){return e.onAlbumId(t)},onKeyUp:function(t){return e.onInputAlbumId(t.keyCode)}})))),s.a.createElement("div",{className:"justify-left btn-mt"},s.a.createElement("div",{className:"btn-common action assign mouse-cursor col-white",onClick:this.onAssign},"Assign"),s.a.createElement("div",{className:"ml-15 btn-common action assign mouse-cursor col-white",onClick:this.onShowDeleteModal},"Unregister"))),s.a.createElement("div",{className:"table-p"},s.a.createElement("table",{className:"tList"},s.a.createElement("thead",null,s.a.createElement("tr",{className:"table-list"},s.a.createElement("th",null,"No"),s.a.createElement("th",null,"Album ID"),s.a.createElement("th",null,"Name"),s.a.createElement("th",null,"Artists"),s.a.createElement("th",null,"Tracks"),s.a.createElement("th",null,"Registered Date"),s.a.createElement("th",null,"Image"),s.a.createElement("th",null,s.a.createElement("label",{className:"container-event"},s.a.createElement("input",{type:"checkbox",checked:this.state.allChecked,onChange:this.onAllCheck}),s.a.createElement("span",{className:"checkMark"}))))),s.a.createElement("tbody",null,this.state.album_list&&this.state.album_list.map((function(t,a){return s.a.createElement("tr",{key:a,className:"table-list"},s.a.createElement("td",null,a+1),s.a.createElement("td",null,e.state.album_list[a].album_id),s.a.createElement("td",null,s.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.state.album_list[a].name}})),s.a.createElement("td",null,e.state.album_list[a].artists.length),s.a.createElement("td",null,e.state.album_list[a].tracks.length),s.a.createElement("td",null,new Date(e.state.album_list[a].registered_date).toLocaleString()),s.a.createElement("td",{className:"mouse-cursor",onClick:function(){return window.location=e.state.album_list[a].path}},e.state.album_list[a].thumbnail&&s.a.createElement("img",{className:"thumbnail-size",src:e.state.album_list[a].thumbnail,alt:""})),s.a.createElement("td",null,s.a.createElement("label",{className:"container-event",key:a},s.a.createElement("input",{id:e.state.album_list[a]._id,type:"checkbox",checked:e.state.new_checked.includes(e.state.album_list[a]._id),onChange:function(t){return e.onCheckBox(t,e.state.album_list[a].album_id)}}),s.a.createElement("span",{className:"checkMark"}))))}))))),s.a.createElement("div",{className:"help-center-align"},s.a.createElement("div",{className:"product-btn justify-center",onClick:function(){return e.onPageClick(1)}},s.a.createElement("svg",{width:"11",height:"15",viewBox:"0 0 11 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("path",{d:"M9.60496 14.6383C9.42024 14.6383 9.23359 14.5779 9.07773 14.457L0.923018 8.02084C0.724826 7.86414 0.609375 7.62814 0.609375 7.37704C0.609375 7.12782 0.724826 6.88993 0.923018 6.73512L9.0431 0.332906C9.40485 0.047818 9.934 0.104458 10.2246 0.459402C10.5151 0.814346 10.4574 1.33355 10.0956 1.61863L2.79141 7.37704L10.1322 13.1713C10.4939 13.4564 10.5517 13.9756 10.2611 14.3305C10.0937 14.5326 9.85126 14.6383 9.60496 14.6383Z",fill:"black",fillOpacity:"0.65"}))),this.state.page_num&&t&&t.map((function(t,a){return s.a.createElement("div",{className:e.state.current_page&&e.state.current_page===t?"product-btn justify-center btn-search":"product-btn justify-center col-darkBlue",key:a,onClick:function(){return e.onPageClick(t)}},t)})),s.a.createElement("div",{className:"product-btn justify-center",onClick:function(){return e.onPageClick(e.state.page_num.total_page)}},s.a.createElement("svg",{width:"11",height:"15",viewBox:"0 0 11 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("path",{d:"M1.39506 14.6383C1.57978 14.6383 1.76643 14.5779 1.92229 14.457L10.077 8.02084C10.2752 7.86414 10.3906 7.62814 10.3906 7.37704C10.3906 7.12782 10.2752 6.88993 10.077 6.73512L1.95692 0.332906C1.59518 0.047818 1.06603 0.104458 0.775474 0.459402C0.484922 0.814346 0.542647 1.33355 0.904394 1.61863L8.2086 7.37704L0.867834 13.1713C0.506087 13.4564 0.448362 13.9756 0.738914 14.3305C0.906319 14.5326 1.14877 14.6383 1.39506 14.6383Z",fill:"black",fillOpacity:"0.65"}))))),s.a.createElement(ie,{show:this.state.show,handleClose:this.hideDeleteModal,albums:this.state.album_ids,flag:!1,path:"/assign-album"}))}}]),a}(n.Component),me=Object(l.b)((function(e){return{spinning:e.users.spinning,getAll_users:e.users.getAll_users,msg_get_users:e.users.msg_get_users,get_registered_albums:e.users.get_registered_albums,msg_registered_albums:e.users.msg_registered_albums,msg_assign_albums:e.users.msg_assign_albums,msg_error_assign_albums:e.users.msg_error_assign_albums}}),{reset:U,getAllUsers:function(e){return function(t){t({type:m,payload:!0}),C.a.post(S+"/api/users/get-all-users",e).then((function(e){t({type:m,payload:!1}),t({type:"GET_ALL_USERS",payload:e.data.results})})).catch((function(e){t({type:m,payload:!1}),t({type:"GET_USER_ERROR",payload:e.response?e.response.data.msg:{error:"error"}})}))}},resetList:se,getRegisteredAlbumList:function(e){return function(t){t({type:m,payload:!0}),C.a.post(S+"/api/albums/get-registered-albums",e).then((function(e){t({type:m,payload:!1}),t({type:"GET_REGISTERED_ALBUMS",payload:e.data.results})})).catch((function(e){t({type:m,payload:!1}),t({type:"ERROR_REGISTERED_ALBUM_LIST",payload:e.response?e.response.data.msg:{error:"error"}})}))}},searchRegisteredAlbum:function(e){return function(t){t({type:m,payload:!0}),C.a.post(S+"/api/albums/search-registered-album",e).then((function(e){t({type:m,payload:!1}),t({type:"GET_REGISTERED_ALBUMS",payload:e.data.results})})).catch((function(e){t({type:m,payload:!1}),t({type:"ERROR_REGISTERED_ALBUM_LIST",payload:e.response?e.response.data.msg:{error:"error"}})}))}},assignAlbumsToUser:function(e){return function(t){t({type:m,payload:!0}),C.a.post(S+"/api/albums/assign-albums",e).then((function(e){t({type:m,payload:!1}),t({type:"ASSIGN_ALBUMS",payload:e.data.msg})})).catch((function(e){t({type:m,payload:!1}),t({type:"ERROR_ASSIGN_ALBUMS",payload:e.response?e.response.data.msg:{error:"error"}})}))}}})(ue),pe=a(32),de=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(_.a)(this,n),(a=t.call(this,e)).onPageClick=function(e){a.setState({current_page:e});var t=a.props.getAssignedAlbumsById,n={id:a.props.match.params.id,current_page:e,page_neighbours:a.state.page_neighbours,pagination:a.state.pagination};t&&t(n),a.setState({allChecked:!1,new_checked:[]})},a.onCheckBox=function(e){var t=a.state.new_checked,n=JSON.parse(JSON.stringify(t));!0===e.target.checked?n.push(e.target.id):n.splice(n.indexOf(e.target.id),1),a.setState({new_checked:n})},a.onAllCheck=function(){a.setState({allChecked:!a.state.allChecked,new_checked:[]})},a.onAssign=function(){var e=a.props.unassignAlbumsToUser;e&&e({role_id:localStorage.id,publisher_id:a.state.user_id,new_checked:a.state.new_checked})},a.onView=function(e){a.props.history.push("/publisher/tracks/"+a.props.match.params.id+"-"+e)},a.onShowMore=function(e){a.state.registered_date===e.registered_date?a.setState({show_flag:!a.state.show_flag}):a.setState({show_flag:!0,registered_date:e.registered_date})},a.onEdit=function(e,t){a.setState({flag_edit:e,price:t})},a.onInputAlbumId=function(e){13===e&&a.onUpdate()},a.onUpdate=function(){var e=a.props.updateAlbumPayment;e&&e({role_id:localStorage.id,album_id:a.state.flag_edit,price:a.state.price});a.setState({flag_edit:"",price:""})},a.onChange=function(e){a.setState(Object(k.a)({},e.target.id,e.target.value||0))},a.tmr=null,a.state={album_list:"",publisher_name:"",currency:"",paid_history:"",allChecked:!1,new_checked:[],current_page:1,page_neighbours:2,pagination:10,page_num:"",show_flag:!1,registered_date:"",flag_edit:""},a}return Object(E.a)(n,[{key:"componentDidMount",value:function(){this.onPageClick(1)}},{key:"componentDidUpdate",value:function(e,t,a){if(this.props.get_registered_albums&&this.props.get_registered_albums!==e.get_registered_albums&&this.setState({album_list:this.props.get_registered_albums.list,page_num:this.props.get_registered_albums.page_num,publisher_name:this.props.get_registered_albums.publisher_name,paid_history:this.props.get_registered_albums.paid_history.reverse(),currency:this.props.get_registered_albums.currency}),this.props.msg_registered_albums&&this.props.msg_registered_albums!==e.msg_registered_albums){Object(O.b)(this.props.msg_registered_albums);var n=this.props.resetList;clearTimeout(this.tmr),this.tmr=setTimeout((function(){n(),this.tmr=null}),3e3)}if(this.state.allChecked!==t.allChecked){var s=[];if(!0===this.state.allChecked){var l=this.state.album_list;Object.keys(l).map((function(e,t){return s.push(l[t]._id),null})),this.setState({new_checked:s})}}if(this.state.new_checked!==t.new_checked){var r=[],i=this.state.album_list;Object.keys(i).map((function(e,t){return r.push(i[t]._id),null})),this.state.new_checked.length>0&&this.state.new_checked.length===r.length?this.setState({allChecked:!0}):this.setState({allChecked:!1})}if(this.props.msg_assign_albums&&this.props.msg_assign_albums!==e.msg_assign_albums){Object(O.b)(this.props.msg_assign_albums);var o=this.props.resetList;clearTimeout(this.tmr),this.tmr=setTimeout((function(){o(),this.tmr=null}),3e3),this.onPageClick(1)}if(this.props.msg_error_assign_albums&&this.props.msg_error_assign_albums!==e.msg_error_assign_albums){Object(O.b)(this.props.msg_error_assign_albums);var c=this.props.resetList;clearTimeout(this.tmr),this.tmr=setTimeout((function(){c(),this.tmr=null}),3e3)}if(this.props.msg_track_update&&this.props.msg_track_update!==e.msg_track_update){Object(O.b)(this.props.msg_track_update);var u=this.props.reset;clearTimeout(this.tmr),this.tmr=setTimeout((function(){u(),this.tmr=null}),3e3),this.onPageClick(this.state.current_page)}}},{key:"render",value:function(){var e=this,t=[];if(this.state.page_num)for(var n=this.state.page_num.start_page;n<=this.state.page_num.end_page;n++)t.push(n);return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"spinning-curtain",style:{display:this.props.spinning?"flex":"none"}},s.a.createElement("div",{className:"lds-dual-ring"})),s.a.createElement(O.a,null),s.a.createElement("div",{className:"col-darkBlue txt-30 txt-bold pb-20 pl-40"},"Albums assigned to ",this.state.publisher_name&&this.state.publisher_name),s.a.createElement("div",{className:"form-bg"},s.a.createElement("div",{className:"flex-space assign"},s.a.createElement("div",{className:"btn-common action assign mouse-cursor col-white",onClick:function(){return e.props.history.goBack()}},"Back"),s.a.createElement("div",{className:"btn-common action assign mouse-cursor col-white",onClick:this.onAssign},"Unassign")),s.a.createElement("div",{className:"table-p"},s.a.createElement("table",{className:"tList"},s.a.createElement("thead",null,s.a.createElement("tr",{className:"table-list"},s.a.createElement("th",null,"No"),s.a.createElement("th",null,"Album ID"),s.a.createElement("th",null,"Name"),s.a.createElement("th",null,"Artists"),s.a.createElement("th",null,"Tracks"),s.a.createElement("th",null,"Assigned Date"),s.a.createElement("th",null,"Image"),s.a.createElement("th",null,"Price Per Track"),s.a.createElement("th",null,"Total Amount"),s.a.createElement("th",null,"Action"),s.a.createElement("th",null,s.a.createElement("label",{className:"container-event"},s.a.createElement("input",{type:"checkbox",checked:this.state.allChecked,onChange:this.onAllCheck}),s.a.createElement("span",{className:"checkMark"}))))),s.a.createElement("tbody",null,this.state.album_list&&this.state.album_list.map((function(t,n){return s.a.createElement("tr",{key:n,className:"table-list"},s.a.createElement("td",null,n+1),s.a.createElement("td",null,e.state.album_list[n].album_id),s.a.createElement("td",null,s.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.state.album_list[n].name}})),s.a.createElement("td",null,e.state.album_list[n].artists.length),s.a.createElement("td",null,e.state.album_list[n].tracks.length),s.a.createElement("td",null,new Date(e.state.album_list[n].updated_date).toLocaleString()),s.a.createElement("td",{className:"mouse-cursor",onClick:function(){return window.location=e.state.album_list[n].path}},e.state.album_list[n].thumbnail&&s.a.createElement("img",{loading:"lazy",className:"thumbnail-size",src:e.state.album_list[n].thumbnail,alt:""})),s.a.createElement("td",null,e.state.flag_edit===t.album_id?s.a.createElement("input",{id:"price",type:"Number",className:"price-paid",value:e.state.price,onChange:function(t){return e.onChange(t)},onKeyUp:function(t){return e.onInputAlbumId(t.keyCode)},style:{marginTop:25}}):t.amount_per_one+(e.state.currency?e.state.currency:pe.SYMBOL[0])),s.a.createElement("td",null,(e.state.album_list[n].total_amount?e.state.album_list[n].total_amount:0)+(e.state.currency?e.state.currency:pe.SYMBOL[0])),s.a.createElement("td",{className:"flex-space"},e.state.flag_edit===t.album_id?s.a.createElement("div",{className:"mr-10 mouse-cursor icon-flex tooltip",onClick:e.onUpdate},s.a.createElement("img",{className:"icon-size",src:a(88),alt:""}),s.a.createElement("span",{className:"tooltiptext"},"Update the track payment amount")):s.a.createElement("div",{className:"mr-10 mouse-cursor icon-flex tooltip",onClick:function(a){return e.onEdit(t.album_id,t.amount_per_one)}},s.a.createElement("img",{className:"icon-size",src:a(55),alt:""}),s.a.createElement("span",{className:"tooltiptext"},"Edit the track")),s.a.createElement("div",{className:"mr-10 mouse-cursor icon-flex tooltip",onClick:function(t){return e.onView(e.state.album_list[n].album_id)}},s.a.createElement("img",{className:"icon-size",src:a(37),alt:""}),s.a.createElement("span",{className:"tooltiptext"},"View the track list"))),s.a.createElement("td",null,s.a.createElement("label",{className:"container-event",key:n},s.a.createElement("input",{id:e.state.album_list[n]._id,type:"checkbox",checked:e.state.new_checked.includes(e.state.album_list[n]._id),onChange:function(t){return e.onCheckBox(t)}}),s.a.createElement("span",{className:"checkMark"}))))}))))),s.a.createElement("div",{className:"help-center-align"},s.a.createElement("div",{className:"product-btn justify-center",onClick:function(){return e.onPageClick(1)}},s.a.createElement("svg",{width:"11",height:"15",viewBox:"0 0 11 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("path",{d:"M9.60496 14.6383C9.42024 14.6383 9.23359 14.5779 9.07773 14.457L0.923018 8.02084C0.724826 7.86414 0.609375 7.62814 0.609375 7.37704C0.609375 7.12782 0.724826 6.88993 0.923018 6.73512L9.0431 0.332906C9.40485 0.047818 9.934 0.104458 10.2246 0.459402C10.5151 0.814346 10.4574 1.33355 10.0956 1.61863L2.79141 7.37704L10.1322 13.1713C10.4939 13.4564 10.5517 13.9756 10.2611 14.3305C10.0937 14.5326 9.85126 14.6383 9.60496 14.6383Z",fill:"black",fillOpacity:"0.65"}))),this.state.page_num&&t&&t.map((function(t,a){return s.a.createElement("div",{className:e.state.current_page&&e.state.current_page===t?"product-btn justify-center btn-search":"product-btn justify-center col-darkBlue",key:a,onClick:function(){return e.onPageClick(t)}},t)})),s.a.createElement("div",{className:"product-btn justify-center",onClick:function(){return e.onPageClick(e.state.page_num.total_page)}},s.a.createElement("svg",{width:"11",height:"15",viewBox:"0 0 11 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("path",{d:"M1.39506 14.6383C1.57978 14.6383 1.76643 14.5779 1.92229 14.457L10.077 8.02084C10.2752 7.86414 10.3906 7.62814 10.3906 7.37704C10.3906 7.12782 10.2752 6.88993 10.077 6.73512L1.95692 0.332906C1.59518 0.047818 1.06603 0.104458 0.775474 0.459402C0.484922 0.814346 0.542647 1.33355 0.904394 1.61863L8.2086 7.37704L0.867834 13.1713C0.506087 13.4564 0.448362 13.9756 0.738914 14.3305C0.906319 14.5326 1.14877 14.6383 1.39506 14.6383Z",fill:"black",fillOpacity:"0.65"}))))),s.a.createElement("div",{style:{marginTop:70}},s.a.createElement("div",{className:"pt-20 pb-20 justify-center col-selected-bg txt-20"},"Recent Payment History to ",this.state.publisher_name&&this.state.publisher_name)),s.a.createElement("div",{className:"form-bg"},s.a.createElement("div",{className:"table-p"},s.a.createElement("table",{className:"tList"},s.a.createElement("thead",null,s.a.createElement("tr",{className:"table-list"},s.a.createElement("th",null,"No"),s.a.createElement("th",null,"Paid Amount"),s.a.createElement("th",null,"Registered Date"),s.a.createElement("th",null,"Paid Date"),s.a.createElement("th",null,"Comment"))),s.a.createElement("tbody",null,this.state.paid_history&&this.state.paid_history.map((function(t,a){return console.log(t),s.a.createElement("tr",{key:a,className:"table-list"},s.a.createElement("td",null,a+1),s.a.createElement("td",null,t.paid_amount+(e.state.currency?e.state.currency:pe.SYMBOL[0])),s.a.createElement("td",null,new Date(t.registered_date).toLocaleString()),s.a.createElement("td",null,new Date(t.paid_date).toLocaleString()),s.a.createElement("td",{className:"txt-word"},t.paid_comment.length<=40?t.paid_comment:s.a.createElement("div",null,e.state.show_flag&&e.state.registered_date===t.registered_date?t.paid_comment+"   ":t.paid_comment.slice(0,40)+" ... ",s.a.createElement("span",{className:"txt-14 col-heavyDark mouse-cursor under-line",onClick:function(a){return e.onShowMore(t)}},e.state.show_flag&&e.state.registered_date===t.registered_date?"Less":"Show More"))))})))))))}}]),n}(n.Component),he=Object(l.b)((function(e){return{spinning:e.users.spinning,get_registered_albums:e.users.get_registered_albums,msg_registered_albums:e.users.msg_registered_albums,msg_assign_albums:e.users.msg_assign_albums,msg_error_assign_albums:e.users.msg_error_assign_albums,msg_track_update:e.users.msg_track_update}}),{reset:K,resetList:se,getAssignedAlbumsById:le,unassignAlbumsToUser:function(e){return function(t){t({type:m,payload:!0}),C.a.post(S+"/api/albums/unassign-albums-user",e).then((function(e){t({type:m,payload:!1}),t({type:"ASSIGN_ALBUMS",payload:e.data.msg})})).catch((function(e){t({type:m,payload:!1}),t({type:"ERROR_ASSIGN_ALBUMS",payload:e.response?e.response.data.msg:{error:"error"}})}))}},updateAlbumPayment:function(e){return function(t){t({type:m,payload:!0}),C.a.post(S+"/api/managements/update-price-per-album",e).then((function(e){t({type:m,payload:!1}),t({type:"TRACK_UPDATE_PAYMENT",payload:e.data.msg})})).catch((function(e){t({type:m,payload:!1}),t({type:"TRACK_UPDATE_PAYMENT",payload:e.response?e.response.data.msg:{error:"error"}})}))}}})(de),ge=a(32),_e=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(_.a)(this,n),(a=t.call(this,e)).getInitialTrackList=function(){var e=a.props.match.params.slug.split("-"),t=a.props.getTrackListById;t&&(t({user_id:e[0],album_id:e[1],role:localStorage.getItem("role")}),a.setState({user_id:e[0],album_id:e[1]}))},a.onChange=function(e){a.setState(Object(k.a)({},e.target.id,e.target.value||0))},a.onEdit=function(e,t){a.setState({flag_edit:e,price:t})},a.onUpdate=function(){var e=a.props.updateTrackPayment;e&&e({role_id:localStorage.id,track_name:a.state.flag_edit,album_id:a.state.album_id,price:a.state.price});a.setState({flag_edit:"",price:""})},a.onExtraClick=function(){var e=a.props.addPaymentInfo;if(e){var t={album_id:82559,track_url:"/singles/michoel-schnitzler---eluku-dmeir-aneini.mp3",platform:"",version:""};e(t),console.log(t)}},a.onShowTableContents=function(){a.setState({table_show:!a.state.table_show})},a.onShowDetail=function(e){a.setState({table_show:!1,detail_show:!0,detail_item:e})},a.onInputAlbumId=function(e){13===e&&a.onUpdate()},a.tmr=null,a.state={listById:"",user_id:"",album_id:"",flag_edit:"",price:"",currency:"",table_show:!0,detail_show:!1,detail_item:""},a}return Object(E.a)(n,[{key:"componentDidMount",value:function(){this.getInitialTrackList()}},{key:"componentDidUpdate",value:function(e,t,a){if(this.props.get_track_list&&this.props.get_track_list!==e.get_track_list&&(this.setState({listById:this.props.get_track_list,currency:this.props.get_track_list.currency}),console.log(this.props.get_track_list)),this.props.msg_error_tracks&&this.props.msg_error_tracks!==e.msg_error_tracks){Object(O.b)(this.props.msg_error_tracks);var n=this.props.reset;clearTimeout(this.tmr),this.tmr=setTimeout((function(){n(),this.tmr=null}),3e3)}if(this.props.msg_track_update&&this.props.msg_track_update!==e.msg_track_update){Object(O.b)(this.props.msg_track_update);var s=this.props.reset;clearTimeout(this.tmr),this.tmr=setTimeout((function(){s(),this.tmr=null}),3e3),this.getInitialTrackList()}}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"spinning-curtain",style:{display:this.props.spinning?"flex":"none"}},s.a.createElement("div",{className:"lds-dual-ring"})),s.a.createElement(O.a,null),s.a.createElement("div",{className:"col-darkBlue txt-30 txt-bold pb-20 pl-40"},"Track List"),s.a.createElement("div",{className:"form-bg"},s.a.createElement("div",{className:"flex-space album-list"},s.a.createElement("div",{className:"btn-common action mouse-cursor col-white mr-id-10",onClick:function(){return e.props.history.goBack()}},"Back")),this.state.listById&&s.a.createElement("div",{className:"flex-grid2 album-grid"},s.a.createElement("div",{className:"album-grid-mt"},s.a.createElement("img",{className:"album-img mouse-cursor",src:this.state.listById.album.full_thumbnail,onClick:function(){return window.location=e.state.listById.album.path},alt:""})),s.a.createElement("div",{className:"album-grid-mt justify-center col-darkBlue"},s.a.createElement("div",null,s.a.createElement("div",{className:"justify-center"},s.a.createElement("img",{className:"album-thumbnail-img mouse-cursor",src:this.state.listById.album.thumbnail,onClick:function(){return window.location=e.state.listById.album.path},alt:""})),s.a.createElement("div",{className:"pt-10 justify-center txt-bold txt-20"},"Title:"),s.a.createElement("div",{className:"justify-center"},s.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.listById.album.name}})),s.a.createElement("div",{className:"pt-10 justify-center txt-bold txt-20"},"Artists:"),s.a.createElement("table",{className:"tList"},s.a.createElement("thead",null,s.a.createElement("tr",{className:"table-list album"},s.a.createElement("th",null,"No"),s.a.createElement("th",null,"Id"),s.a.createElement("th",null,"Name"))),s.a.createElement("tbody",null,this.state.listById&&this.state.listById.album.artists.map((function(e,t){return s.a.createElement("tr",{key:t},s.a.createElement("td",null,t+1),s.a.createElement("td",null,e.id),s.a.createElement("td",null,s.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.title}})))}))))))),s.a.createElement("div",null,s.a.createElement("div",{className:"pt-30 pb-10 justify-center col-paragraphBg txt-20"},"Tracks")),s.a.createElement("div",{className:"table-p"},s.a.createElement("table",{className:"tList"},s.a.createElement("thead",{className:"track-list"},s.a.createElement("tr",{className:"table-list album mouse-cursor",onClick:this.onShowTableContents},s.a.createElement("th",null,"No"),s.a.createElement("th",null,"Title"),s.a.createElement("th",null,"Url"),s.a.createElement("th",null,"Download"),s.a.createElement("th",null,"Current Price(Usd)"),s.a.createElement("th",null,"Total Amount"),s.a.createElement("th",null,"Action"))),this.state.table_show&&s.a.createElement("tbody",null,this.state.listById&&this.state.listById.tracks.map((function(t,n){return s.a.createElement("tr",{key:n,className:"table-list album"},s.a.createElement("td",null,n+1),s.a.createElement("td",null,s.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.name}})),s.a.createElement("td",null,t.url),s.a.createElement("td",null,""===t.download||null===t.download?0:t.download),s.a.createElement("td",null,e.state.flag_edit===t.name?s.a.createElement("input",{id:"price",type:"Number",className:"price-paid",value:e.state.price,onChange:function(t){return e.onChange(t)},onKeyUp:function(t){return e.onInputAlbumId(t.keyCode)},style:{marginTop:25}}):t.amount_per_one+(e.state.currency?e.state.currency:ge.SYMBOL[0])),s.a.createElement("td",null,(t.total_amount?t.total_amount:0)+(e.state.currency?e.state.currency:ge.SYMBOL[0])),s.a.createElement("td",{className:"flex-space"},e.state.flag_edit===t.name?s.a.createElement("div",{className:"mr-10 mouse-cursor icon-flex tooltip",onClick:e.onUpdate},s.a.createElement("img",{className:"icon-size",src:a(88),alt:""}),s.a.createElement("span",{className:"tooltiptext"},"Update the track payment amount")):s.a.createElement("div",{className:"mr-10 mouse-cursor icon-flex tooltip",onClick:function(a){return e.onEdit(t.name,t.amount_per_one)}},s.a.createElement("img",{className:"icon-size",src:a(55),alt:""}),s.a.createElement("span",{className:"tooltiptext"},"Edit the track")),s.a.createElement("div",{className:"mr-10 mouse-cursor icon-flex tooltip",onClick:function(){return e.onExtraClick()}},s.a.createElement("img",{className:"icon-size",src:a(37),alt:""}),s.a.createElement("span",{className:"tooltiptext"},"Click for recording the price per track")),s.a.createElement("div",{className:"mr-10 mouse-cursor icon-flex tooltip",onClick:function(a){return e.onShowDetail(t)}},s.a.createElement("img",{className:"icon-size",src:a(37),alt:""}),s.a.createElement("span",{className:"tooltiptext"},"View the detailed info"))))}))))),this.state.detail_show&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{style:{marginTop:70}},s.a.createElement("div",{className:"pt-20 pb-20 justify-center col-selected-bg txt-20"},'Detailed view of track "',this.state.detail_item.name,'"')),s.a.createElement("div",{className:"mt-30 justify-center col-darkBlue txt-bold txt-20"},"Track History"),s.a.createElement("div",{className:"table-p"},s.a.createElement("table",{className:"tList"},s.a.createElement("thead",{className:"track-list"},s.a.createElement("tr",{className:"table-list album"},s.a.createElement("th",null,"No"),s.a.createElement("th",null,"Country"),s.a.createElement("th",null,"Ip Address"),s.a.createElement("th",null,"Platform"),s.a.createElement("th",null,"Version"),s.a.createElement("th",null,"Price Per Played Track"),s.a.createElement("th",null,"Played Date"))),s.a.createElement("tbody",null,this.state.detail_item.details.map((function(t,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",{style:{paddingLeft:20}},a+1),s.a.createElement("td",null,t.country),s.a.createElement("td",null,t.ip_address),s.a.createElement("td",null,t.platform?t.platform:""),s.a.createElement("td",null,t.version?t.version:""),s.a.createElement("td",null,t.price_per_track+(e.state.currency?e.state.currency:ge.SYMBOL[0])),s.a.createElement("td",null,new Date(t.played_date).toLocaleString([],{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"})))}))))))))}}]),n}(n.Component),Ee=Object(l.b)((function(e){return{spinning:e.users.spinning,get_track_list:e.users.get_track_list,msg_error_tracks:e.users.msg_error_tracks,msg_track_update:e.users.msg_track_update}}),{reset:K,getTrackListById:H,updateTrackPayment:function(e){return function(t){t({type:m,payload:!0}),C.a.post(S+"/api/managements/update-track",e).then((function(e){t({type:m,payload:!1}),t({type:"TRACK_UPDATE_PAYMENT",payload:e.data.msg})})).catch((function(e){t({type:m,payload:!1}),t({type:"TRACK_UPDATE_PAYMENT",payload:e.response?e.response.data.msg:{error:"error"}})}))}},addPaymentInfo:function(e){return function(t){t({type:m,payload:!0}),F.post("/api/logs/add-played-track",e).then((function(e){console.log(e.data.msg),t({type:m,payload:!1}),t({type:"TRACK_UPDATE_PAYMENT",payload:e.data.msg})})).catch((function(e){t({type:m,payload:!1}),t({type:"TRACK_UPDATE_PAYMENT",payload:e.response?e.response.data.msg:{error:"error"}})}))}}})(_e),be=a(32),fe=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(_.a)(this,n),(a=t.call(this,e)).onPageClick=function(e){a.setState({current_page:e});var t=a.props.getAssignedAlbumsById,n={id:localStorage.id,current_page:e,page_neighbours:a.state.page_neighbours,pagination:a.state.pagination};t&&t(n),a.setState({allChecked:!1,new_checked:[]})},a.onView=function(e){a.props.history.push("/user-track-list/"+e)},a.tmr=null,a.state={album_list:"",currency:"",current_page:1,page_neighbours:2,pagination:10,page_num:""},a}return Object(E.a)(n,[{key:"componentDidMount",value:function(){localStorage.id||(window.location.href="/login"),this.onPageClick(1)}},{key:"componentDidUpdate",value:function(e,t,a){if(this.props.get_registered_albums&&this.props.get_registered_albums!==e.get_registered_albums&&(this.setState({album_list:this.props.get_registered_albums.list,currency:this.props.get_registered_albums.currency,page_num:this.props.get_registered_albums.page_num}),console.log(this.props.get_registered_albums)),this.props.msg_registered_albums&&this.props.msg_registered_albums!==e.msg_registered_albums){Object(O.b)(this.props.msg_registered_albums);var n=this.props.resetList;clearTimeout(this.tmr),this.tmr=setTimeout((function(){n(),this.tmr=null}),3e3)}}},{key:"render",value:function(){var e=this,t=[];if(this.state.page_num)for(var n=this.state.page_num.start_page;n<=this.state.page_num.end_page;n++)t.push(n);return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"spinning-curtain",style:{display:this.props.spinning?"flex":"none"}},s.a.createElement("div",{className:"lds-dual-ring"})),s.a.createElement(O.a,null),s.a.createElement("div",{className:"col-darkBlue txt-30 txt-bold pb-20 pl-40"},"Assigned Albums"),s.a.createElement("div",{className:"form-bg"},s.a.createElement("div",{className:"flex-space assign"},s.a.createElement("div",{className:"btn-common action assign mouse-cursor col-white",onClick:function(){return e.props.history.goBack()}},"Back")),s.a.createElement("div",{className:"table-p"},s.a.createElement("table",{className:"tList"},s.a.createElement("thead",null,s.a.createElement("tr",{className:"table-list"},s.a.createElement("th",null,"No"),s.a.createElement("th",null,"Album ID"),s.a.createElement("th",null,"Name"),s.a.createElement("th",null,"Artists"),s.a.createElement("th",null,"Tracks"),s.a.createElement("th",null,"Assigned Date"),s.a.createElement("th",null,"Image"),s.a.createElement("th",null,"Total Amount"),s.a.createElement("th",null,"View"))),s.a.createElement("tbody",null,this.state.album_list&&this.state.album_list.map((function(t,n){return s.a.createElement("tr",{key:n,className:"table-list"},s.a.createElement("td",null,n+1),s.a.createElement("td",null,e.state.album_list[n].album_id),s.a.createElement("td",null,s.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.state.album_list[n].name}})),s.a.createElement("td",null,e.state.album_list[n].artists.length),s.a.createElement("td",null,e.state.album_list[n].tracks.length),s.a.createElement("td",null,new Date(e.state.album_list[n].updated_date).toLocaleString()),s.a.createElement("td",{className:"mouse-cursor",onClick:function(){return window.location=e.state.album_list[n].path}},e.state.album_list[n].thumbnail&&s.a.createElement("img",{className:"thumbnail-size",src:e.state.album_list[n].thumbnail,alt:""})),s.a.createElement("td",{className:"col-heavyDark txt-bold"},e.state.album_list[n].total_amount+(e.state.currency?e.state.currency:be.SYMBOL[0])),s.a.createElement("td",null,s.a.createElement("div",{className:"mr-10 mouse-cursor icon-flex tooltip",onClick:function(t){return e.onView(e.state.album_list[n].album_id.toString())}},s.a.createElement("img",{className:"icon-size",src:a(37),alt:""}),s.a.createElement("span",{className:"tooltiptext"},"View the track list"))))}))))),s.a.createElement("div",{className:"help-center-align"},s.a.createElement("div",{className:"product-btn justify-center",onClick:function(){return e.onPageClick(1)}},s.a.createElement("svg",{width:"11",height:"15",viewBox:"0 0 11 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("path",{d:"M9.60496 14.6383C9.42024 14.6383 9.23359 14.5779 9.07773 14.457L0.923018 8.02084C0.724826 7.86414 0.609375 7.62814 0.609375 7.37704C0.609375 7.12782 0.724826 6.88993 0.923018 6.73512L9.0431 0.332906C9.40485 0.047818 9.934 0.104458 10.2246 0.459402C10.5151 0.814346 10.4574 1.33355 10.0956 1.61863L2.79141 7.37704L10.1322 13.1713C10.4939 13.4564 10.5517 13.9756 10.2611 14.3305C10.0937 14.5326 9.85126 14.6383 9.60496 14.6383Z",fill:"black",fillOpacity:"0.65"}))),this.state.page_num&&t&&t.map((function(t,a){return s.a.createElement("div",{className:e.state.current_page&&e.state.current_page===t?"product-btn justify-center btn-search":"product-btn justify-center col-darkBlue",key:a,onClick:function(){return e.onPageClick(t)}},t)})),s.a.createElement("div",{className:"product-btn justify-center",onClick:function(){return e.onPageClick(e.state.page_num.total_page)}},s.a.createElement("svg",{width:"11",height:"15",viewBox:"0 0 11 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("path",{d:"M1.39506 14.6383C1.57978 14.6383 1.76643 14.5779 1.92229 14.457L10.077 8.02084C10.2752 7.86414 10.3906 7.62814 10.3906 7.37704C10.3906 7.12782 10.2752 6.88993 10.077 6.73512L1.95692 0.332906C1.59518 0.047818 1.06603 0.104458 0.775474 0.459402C0.484922 0.814346 0.542647 1.33355 0.904394 1.61863L8.2086 7.37704L0.867834 13.1713C0.506087 13.4564 0.448362 13.9756 0.738914 14.3305C0.906319 14.5326 1.14877 14.6383 1.39506 14.6383Z",fill:"black",fillOpacity:"0.65"}))))))}}]),n}(n.Component),ye=Object(l.b)((function(e){return{spinning:e.users.spinning,get_registered_albums:e.users.get_registered_albums,msg_registered_albums:e.users.msg_registered_albums,msg_assign_albums:e.users.msg_assign_albums,msg_error_assign_albums:e.users.msg_error_assign_albums}}),{resetList:se,getAssignedAlbumsById:le})(fe),ve=a(32),ke=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).exportTableToCSV=function(e){for(var t=[],a=document.querySelectorAll("table tr"),s=0;s<a.length;s++){for(var l=[],r=a[s].querySelectorAll("td, th"),i=0;i<r.length;i++)l.push(r[i].innerText);t.push(l.join(","))}n.downloadCSV(t.join("\n"),e)},n.downloadCSV=function(e,t){var a,n;a=new Blob([e],{type:"text/csv"}),(n=document.createElement("a")).download=t,n.href=window.URL.createObjectURL(a),n.style.display="none",document.body.appendChild(n),n.click()},n.onShowMore=function(e){n.state.registered_date===e.registered_date?n.setState({show_flag:!n.state.show_flag}):n.setState({show_flag:!0,registered_date:e.registered_date})},n.tmr=null,n.state={paid_history:"",currency:"",show_flag:!1,registered_date:""},n}return Object(E.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.getPublisherById;e&&e({id:localStorage.id})}},{key:"componentDidUpdate",value:function(e,t,a){if(this.props.msg_user&&this.props.msg_user!==e.msg_user){Object(O.b)(this.props.msg_user);var n=this.props.reset;clearTimeout(this.tmr),this.tmr=setTimeout((function(){n(),this.tmr=null}),2e3),this.onInitial()}this.props.get_user&&this.props.get_user!==e.get_user&&this.setState({paid_history:this.props.get_user.paid_log.reverse(),currency:this.props.get_user.currency})}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(O.a,null),s.a.createElement("div",{className:"col-darkBlue txt-30 txt-bold pb-20 pl-40"},"Payment History"),s.a.createElement("div",{className:"form-bg"},this.props.get_user&&s.a.createElement("div",{className:"flex-space txt-18 col-heavyDark"},s.a.createElement("div",{className:"justify-left"},s.a.createElement("div",null,"Owed Amount: "),s.a.createElement("div",{className:"txt-bold",style:{paddingLeft:20}},this.props.get_user.owed_amount+(this.state.currency?this.state.currency:ve.SYMBOL[0]))),s.a.createElement("div",{className:"justify-left"},s.a.createElement("div",null,"Total Amount: "),s.a.createElement("div",{className:"txt-bold",style:{paddingLeft:20}},this.props.get_user.total_amount+(this.state.currency?this.state.currency:ve.SYMBOL[0])))),s.a.createElement("div",{className:"table-p"},s.a.createElement("table",{className:"tList"},s.a.createElement("thead",null,s.a.createElement("tr",{className:"table-list"},s.a.createElement("th",null,"No"),s.a.createElement("th",null,"Paid Amount"),s.a.createElement("th",null,"Registered Date"),s.a.createElement("th",null,"Paid Date"),s.a.createElement("th",null,"Comment"))),s.a.createElement("tbody",null,this.state.paid_history&&this.state.paid_history.map((function(t,a){return console.log(t),s.a.createElement("tr",{key:a,className:"table-list"},s.a.createElement("td",null,a+1),s.a.createElement("td",null,t.paid_amount+(e.state.currency?e.state.currency:ve.SYMBOL[0])),s.a.createElement("td",null,new Date(t.registered_date).toLocaleString()),s.a.createElement("td",null,new Date(t.paid_date).toLocaleString()),s.a.createElement("td",{className:"txt-word"},t.paid_comment.length<=40?t.paid_comment:s.a.createElement("div",null,e.state.show_flag&&e.state.registered_date===t.registered_date?t.paid_comment+"   ":t.paid_comment.slice(0,40)+" ... ",s.a.createElement("span",{className:"txt-14 col-heavyDark mouse-cursor under-line",onClick:function(a){return e.onShowMore(t)}},e.state.show_flag&&e.state.registered_date===t.registered_date?"Less":"Show More"))))}))))),s.a.createElement("div",{className:"flex-space mt-30"},s.a.createElement("div",{className:"btn-common action assign mouse-cursor col-white",onClick:function(){return window.print("")}},"Print"),s.a.createElement("div",{className:"btn-common action assign mouse-cursor col-white",onClick:function(){return e.exportTableToCSV("members.csv")}},"CSV"))))}}]),a}(n.Component),Ne=Object(l.b)((function(e){return{spinning:e.users.spinning,get_user:e.users.get_user,msg_user:e.users.msg_user}}),{reset:U,getPublisherById:x})(ke),Ce=a(32),Se=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(_.a)(this,n),(a=t.call(this,e)).getInitialTrackList=function(){var e=a.props.getTrackListById;if(e){var t=a.props.match.params&&a.props.match.params.id;e({user_id:a.state.user_id,album_id:t,role:localStorage.getItem("role")})}},a.onShowTableContents=function(){a.setState({table_show:!a.state.table_show})},a.onShowDetail=function(e){a.setState({table_show:!1,detail_show:!0,detail_item:e})},a.exportTableToCSV=function(e){for(var t=[],n=document.querySelectorAll("table tr"),s=0;s<n.length;s++){for(var l=[],r=n[s].querySelectorAll("td, th"),i=0;i<r.length;i++)l.push(r[i].innerText);t.push(l.join(","))}a.downloadCSV(t.join("\n"),e)},a.downloadCSV=function(e,t){var a,n;a=new Blob([e],{type:"text/csv"}),(n=document.createElement("a")).download=t,n.href=window.URL.createObjectURL(a),n.style.display="none",document.body.appendChild(n),n.click()},a.tmr=null,a.state={role:localStorage.role,user_id:localStorage.id,listById:"",currency:"",table_show:!0,detail_show:!1,detail_item:""},a}return Object(E.a)(n,[{key:"componentDidMount",value:function(){this.getInitialTrackList()}},{key:"componentDidUpdate",value:function(e,t,a){if(this.props.get_track_list&&this.props.get_track_list!==e.get_track_list&&this.setState({listById:this.props.get_track_list,currency:this.props.get_track_list.currency}),this.props.msg_error_tracks&&this.props.msg_error_tracks!==e.msg_error_tracks){Object(O.b)(this.props.msg_error_tracks);var n=this.props.reset;clearTimeout(this.tmr),this.tmr=setTimeout((function(){n(),this.tmr=null}),3e3)}}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"spinning-curtain",style:{display:this.props.spinning?"flex":"none"}},s.a.createElement("div",{className:"lds-dual-ring"})),s.a.createElement(O.a,null),s.a.createElement("div",{className:"col-darkBlue txt-30 txt-bold pb-20 pl-40"},"Track List"),s.a.createElement("div",{className:"form-bg"},s.a.createElement("div",{className:"flex-space album-list"},s.a.createElement("div",{className:"btn-common action mouse-cursor col-white mr-id-10",onClick:function(){return e.props.history.goBack()}},"Back")),this.state.listById&&s.a.createElement("div",{className:"flex-grid2 album-grid"},s.a.createElement("div",{className:"album-grid-mt"},s.a.createElement("img",{className:"album-img mouse-cursor",src:this.state.listById.album.full_thumbnail,onClick:function(){return window.location=e.state.listById.album.path},alt:""})),s.a.createElement("div",{className:"album-grid-mt justify-center col-darkBlue"},s.a.createElement("div",null,s.a.createElement("div",{className:"justify-center"},s.a.createElement("img",{className:"album-thumbnail-img mouse-cursor",src:this.state.listById.album.thumbnail,onClick:function(){return window.location=e.state.listById.album.path},alt:""})),s.a.createElement("div",{className:"pt-10 justify-center txt-bold txt-20"},"Title:"),s.a.createElement("div",{className:"justify-center"},s.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.listById.album.name}})),s.a.createElement("div",{className:"pt-10 justify-center txt-bold txt-20"},"Artists:"),s.a.createElement("table",{className:"tList"},s.a.createElement("thead",null,s.a.createElement("tr",{className:"table-list album"},s.a.createElement("th",null,"No"),s.a.createElement("th",null,"Id"),s.a.createElement("th",null,"Name"))),s.a.createElement("tbody",null,this.state.listById&&this.state.listById.album.artists.map((function(e,t){return s.a.createElement("tr",{key:t,className:"align-left"},s.a.createElement("td",{style:{paddingLeft:20}},t+1),s.a.createElement("td",{style:{paddingLeft:20}},e.id),s.a.createElement("td",{style:{paddingLeft:20}},e.title))}))))))),s.a.createElement("div",null,s.a.createElement("div",{className:"pt-30 pb-10 justify-center col-paragraphBg txt-20"},"Tracks")),s.a.createElement("div",{className:"table-p"},s.a.createElement("table",{className:"tList"},s.a.createElement("thead",null,s.a.createElement("tr",{className:"table-list album mouse-cursor",onClick:this.onShowTableContents},s.a.createElement("th",null,"No"),s.a.createElement("th",null,"Title"),s.a.createElement("th",null,"Download"),s.a.createElement("th",null,"Current Price(Usd)"),s.a.createElement("th",null,"Total Amount"),s.a.createElement("th",null,"Detail View"))),this.state.table_show&&s.a.createElement("tbody",null,this.state.listById&&this.state.listById.tracks.map((function(t,n){return s.a.createElement("tr",{key:n,className:"table-list album"},s.a.createElement("td",null,n+1),s.a.createElement("td",null,s.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.name}})),s.a.createElement("td",null,""===t.download||null===t.download?0:t.download),s.a.createElement("td",null,t.amount_per_one+(e.state.currency?e.state.currency:Ce.SYMBOL[0])),s.a.createElement("td",null,(t.total_amount?t.total_amount:0)+(e.state.currency?e.state.currency:Ce.SYMBOL[0])),s.a.createElement("td",null,s.a.createElement("div",{className:"mr-10 mouse-cursor icon-flex tooltip",onClick:function(a){return e.onShowDetail(t)}},s.a.createElement("img",{className:"icon-size",src:a(37),alt:""}),s.a.createElement("span",{className:"tooltiptext"},"View the detailed info"))))}))))),this.state.detail_show&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{style:{marginTop:70}},s.a.createElement("div",{className:"pt-20 pb-20 justify-center col-selected-bg txt-20"},'Detailed view of track "',this.state.detail_item.name,'"')),s.a.createElement("div",{className:"mt-30 justify-center col-darkBlue txt-bold txt-20"},"Track History"),s.a.createElement("div",{className:"table-p"},s.a.createElement("table",{className:"tList"},s.a.createElement("thead",{className:"track-list"},s.a.createElement("tr",{className:"table-list album"},s.a.createElement("th",null,"No"),s.a.createElement("th",null,"Country"),s.a.createElement("th",null,"Ip Address"),s.a.createElement("th",null,"Platform"),s.a.createElement("th",null,"Version"),s.a.createElement("th",null,"Price Per Played Track"),s.a.createElement("th",null,"Played Date"))),s.a.createElement("tbody",null,this.state.detail_item.details.map((function(t,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",{style:{paddingLeft:20}},a+1),s.a.createElement("td",null,t.country),s.a.createElement("td",null,t.ip_address),s.a.createElement("td",null,t.platform?t.platform:""),s.a.createElement("td",null,t.version?t.version:""),s.a.createElement("td",null,t.price_per_track+(e.state.currency?e.state.currency:Ce.SYMBOL[0])),s.a.createElement("td",null,new Date(t.played_date).toLocaleString([],{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"})))}))))),s.a.createElement("div",{className:"flex-space mt-30"},s.a.createElement("div",{className:"btn-common action assign mouse-cursor col-white",onClick:function(){return window.print("")}},"Print"),s.a.createElement("div",{className:"btn-common action assign mouse-cursor col-white",onClick:function(){return e.exportTableToCSV("members.csv")}},"CSV")))))}}]),n}(s.a.Component),we=Object(l.b)((function(e){return{spinning:e.users.spinning,get_track_list:e.users.get_track_list,msg_error_tracks:e.users.msg_error_tracks}}),{reset:K,getTrackListById:H})(Se),Oe=a(32),Ie=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState(Object(k.a)({},e.target.id,e.target.value||""))},n.onPhoneChange=function(e){n.setState(Object(k.a)({},e.target.id,parseFloat(e.target.value||0)))},n.onInitial=function(){n.setState({name:n.state.user_edit.name,phone:n.state.user_edit.phone,email:n.state.user_edit.email,password:n.state.user_edit.origin_password,confirm_password:n.state.user_edit.origin_password,country:n.state.user_edit.country,bank_info:n.state.user_edit.bank_info,currency:n.state.user_edit.currency?n.state.user_edit.currency:Oe.SYMBOL[0]})},n.onClickInitial=function(){n.setState({name:n.state.user_edit.name,phone:n.state.user_edit.phone,email:n.state.user_edit.email,password:n.state.user_edit.origin_password,confirm_password:n.state.user_edit.origin_password,country:n.state.user_edit.country,bank_info:n.state.user_edit.bank_info,currency:n.state.user_edit.currency?n.state.user_edit.currency:Oe.SYMBOL[0]})},n.onSelectCountry=function(e){n.setState({country:e.target.value})},n.onUpdate=function(){var e=n.props.updatePublisher;e&&e({id:localStorage.id,name:n.state.name,phone:n.state.phone,email:n.state.email,password:n.state.password,confirm_password:n.state.confirm_password,country:n.state.country,bank_info:n.state.bank_info,currency:n.state.currency_type})},n.tmr=null,n.state={user_edit:"",name:"",phone:"",email:"",password:"",confirm_password:"",country:"US",bank_info:"",currency_type:Oe.SYMBOL[0]},n}return Object(E.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.getPublisherById;e&&e({id:localStorage.id});this.onInitial()}},{key:"componentDidUpdate",value:function(e,t,a){if(this.props.msg_create_publisher&&e.msg_create_publisher!==this.props.msg_create_publisher){Object(O.b)(this.props.msg_create_publisher);var n=this.props.reset;clearTimeout(this.tmr),this.tmr=setTimeout((function(){n(),this.tmr=null}),2e3),this.onInitial()}if(this.props.msg_publisher_error&&e.msg_publisher_error!==this.props.msg_publisher_error){console.log(this.props.msg_publisher_error);var s=this.props.msg_publisher_error,l=[];if(s.name&&l.push(s.name),s.phone&&l.push(s.phone),s.email&&l.push(s.email),s.password&&l.push(s.password),s.confirm_password&&l.push(s.confirm_password),s.country&&l.push(s.country),s.bank_info&&l.push(s.bank_info),0===l.length)Object(O.b)(this.props.msg_publisher_error);else for(var r=0;r<l.length;r++)Object(O.b)(l[r]);var i=this.props.reset;clearTimeout(this.tmr),this.tmr=setTimeout((function(){i(),this.tmr=null}),6e3)}if(this.props.msg_user&&this.props.msg_user!==e.msg_user){Object(O.b)(this.props.msg_user);var o=this.props.reset;clearTimeout(this.tmr),this.tmr=setTimeout((function(){o(),this.tmr=null}),2e3),this.onInitial()}if(this.props.get_user&&this.props.get_user!==e.get_user){var c=this.props.get_user;this.setState({user_edit:c,name:c.name,phone:c.phone,email:c.email,password:c.origin_password,confirm_password:c.origin_password,country:c.country,bank_info:c.bank_info,currency:c.currency?c.currency:Oe.SYMBOL[0]})}}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(O.a,null),s.a.createElement("div",{className:"col-darkBlue txt-30 txt-bold pb-20 pl-40"},"Edit Profile"),s.a.createElement("div",{className:"form-bg"},s.a.createElement("input",{id:"name",type:"text",className:"mt-20",placeholder:"User Name",value:this.state.name,onChange:function(t){return e.onChange(t)},required:!0}),s.a.createElement("input",{id:"phone",type:"tel",className:"mt-20",placeholder:"Phone Number",value:this.state.phone,onChange:function(t){return e.onPhoneChange(t)},required:!0}),s.a.createElement("input",{id:"email",type:"email",className:"mt-20",placeholder:"Email",value:this.state.email,onChange:function(t){return e.onChange(t)},required:!0}),s.a.createElement("input",{id:"password",type:"password",className:"mt-20",placeholder:"Password",value:this.state.password,onChange:function(t){return e.onChange(t)},required:!0}),s.a.createElement("input",{id:"confirm_password",type:"password",className:"mt-20",placeholder:"Confirm Password",value:this.state.confirm_password,onChange:function(t){return e.onChange(t)},required:!0}),s.a.createElement("select",{className:"mt-20",value:this.state.country,onChange:function(t){return e.onSelectCountry(t)}},s.a.createElement(P,null)),s.a.createElement("input",{id:"bank_info",type:"text",className:"mt-20",placeholder:"Bank Information",value:this.state.bank_info,onChange:function(t){return e.onChange(t)},required:!0}),s.a.createElement("div",{className:"flex-space fields"},s.a.createElement("div",{className:"flex-space fields mt-20"},s.a.createElement("div",{className:"btn-common cancel col-white mouse-cursor action",onClick:this.props.history.goBack},"BACK"),s.a.createElement("div",{className:"btn-common initial col-white mouse-cursor action",onClick:this.onClickInitial},"INITIALIZE")),s.a.createElement("div",{className:"btn-common save col-white mouse-cursor",onClick:this.onUpdate},"UPDATE"))))}}]),a}(n.Component),je=Object(l.b)((function(e){return{spinning:e.users.spinning,msg_create_publisher:e.users.msg_create_publisher,msg_publisher_error:e.users.msg_publisher_error,get_user:e.users.get_user,msg_user:e.users.msg_user}}),{reset:U,updatePublisher:function(e){return function(t){console.log(e),t({type:m,payload:!0}),C.a.post(S+"/api/users/update-publisher",e).then((function(e){t({type:m,payload:!1}),t({type:"CREATE_PUBLISHER",payload:e.data.msg})})).catch((function(e){t({type:m,payload:!1}),t({type:"ERROR_CREATE_PUBLISHER",payload:e.response?e.response.data.msg:{error:"error"}})}))}},getPublisherById:x})(Ie),Ae=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).state={role:localStorage.role},n}return Object(E.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"spinning-curtain",style:{display:this.props.spinning?"flex":"none"}},s.a.createElement("div",{className:"lds-dual-ring"})),s.a.createElement(M,null),s.a.createElement("div",{className:"body-section"},"admin"===this.state.role&&s.a.createElement(v.d,null,s.a.createElement(L,{path:"/assign-album",component:me}),s.a.createElement(L,{path:"/add-album",component:ce}),s.a.createElement(L,{path:"/add-user/:id?",component:V}),s.a.createElement(L,{path:"/user-list",component:te}),s.a.createElement(L,{path:"/publisher/albums/:id",component:he}),s.a.createElement(L,{path:"/publisher/tracks/:slug",component:Ee}),s.a.createElement(v.a,{to:"/user-list"})),"publisher"===this.state.role&&s.a.createElement(v.d,null,s.a.createElement(L,{path:"/user-reports",component:ye}),s.a.createElement(L,{path:"/user-agreement",component:Ne}),s.a.createElement(L,{path:"/user-track-list/:id",component:we}),s.a.createElement(L,{path:"/user-settings",component:je}),s.a.createElement(v.a,{to:"/user-reports"}))))}}]),a}(n.Component),Le=Object(l.b)((function(e){return{}}),{})(Ae),Te=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).state={role:localStorage.role},n}return Object(E.a)(a,[{key:"render",value:function(){return s.a.createElement(y.a,null,s.a.createElement(v.d,null,s.a.createElement(v.b,{exact:!0,path:"/login",component:j,key:"login"}),s.a.createElement(L,{path:"",component:Le}),s.a.createElement(v.a,{to:"/"})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(l.a,{store:g},s.a.createElement(Te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},27:function(e,t,a){},32:function(e,t){e.exports={CURRENCY:["USD","GBP","ILS","EUR"],SYMBOL:["$","\xa3","\u20aa","\u20ac"]}},37:function(e,t,a){e.exports=a.p+"static/media/view.3c72ec83.svg"},55:function(e,t,a){e.exports=a.p+"static/media/edit.4b0979d8.svg"},87:function(e,t,a){e.exports=a.p+"static/media/bin-28.cf3887f7.svg"},88:function(e,t,a){e.exports=a.p+"static/media/update.e592830f.svg"},95:function(e,t,a){e.exports=a(189)}},[[95,1,2]]]);
//# sourceMappingURL=main.90ecc864.chunk.js.map